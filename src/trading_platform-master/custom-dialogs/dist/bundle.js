!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CustomDialogs=e():t.CustomDialogs=e()}(self,()=>(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{createCancelOrderButtonListenerFactory:()=>St,createCancelOrderDialog:()=>kt,createClosePositionButtonListenerFactory:()=>$t,createClosePositionDialog:()=>Dt,createOrderDialog:()=>X,createPositionDialog:()=>Lt,createReversePositionButtonListenerFactory:()=>wt,createReversePositionDialog:()=>Tt,hideCancelOrderDialog:()=>Ot,hideClosePositionDialog:()=>It,hideReversePositionDialog:()=>Mt,showCancelOrderDialog:()=>Bt,showClosePositionDialog:()=>qt,showOrderDialog:()=>Y,showPositionDialog:()=>xt,showReversePositionDialog:()=>At});const o=document.createElement("div");o.className="custom-order-dialog__header",o.textContent="Custom Order Dialog";const n=o,i=document.createElement("div");i.className="custom-order-dialog__side-section";const c=i,s=document.createElement("div");s.className="custom-order-dialog__side-header",s.textContent="Side";const d=s,a=document.createElement("select");a.className="custom-order-dialog__side-select";const l=document.createElement("option");l.className="custom-order-dialog__side",l.value="1",l.textContent="Buy";const r=document.createElement("option");r.className="custom-order-dialog__side",r.value="-1",r.textContent="Sell",a.appendChild(l),a.appendChild(r);const m=a,u=document.createElement("div");u.className="custom-order-dialog__order-type-section";const p=u,v=document.createElement("div");v.className="custom-order-dialog__order-type-header",v.textContent="Order Type";const b=v,y=document.createElement("select");y.className="custom-order-dialog__order-type-select";const _=document.createElement("option");_.className="custom-order-dialog__order-type",_.value="2",_.textContent="Market";const g=document.createElement("option");g.className="custom-order-dialog__order-type",g.value="1",g.textContent="Limit";const C=document.createElement("option");C.className="custom-order-dialog__order-type",C.value="3",C.textContent="Stop",y.appendChild(_),y.appendChild(g),y.appendChild(C);const h=y,E=document.createElement("div");E.className="custom-order-dialog__price-section";const f=E,N=document.createElement("div");N.className="custom-order-dialog__price-header",N.textContent="Limit/Stop Price";const P=N,L=document.createElement("input");L.type="text",L.className="custom-order-dialog__price-input";const x=L,k=document.createElement("div");k.className="custom-order-dialog__qty-section";const S=k,B=document.createElement("div");B.className="custom-order-dialog__qty-header",B.textContent="Quantity";const O=B,D=document.createElement("input");D.type="text",D.className="custom-order-dialog__qty-input";const $=D,q=document.createElement("div");q.className="custom-order-dialog__tp-section";const I=q,T=document.createElement("div");T.className="custom-order-dialog__tp-header",T.textContent="Take Profit";const w=T,A=document.createElement("input");A.type="text",A.className="custom-order-dialog__tp-input";const M=A,j=document.createElement("div");j.className="custom-order-dialog__sl-section";const H=j,Q=document.createElement("div");Q.className="custom-order-dialog__sl-header",Q.textContent="Stop Loss";const R=Q,F=document.createElement("input");F.type="text",F.className="custom-order-dialog__sl-input";const z=F,G=document.createElement("button");G.className="custom-order-dialog__ok-button",G.textContent="Ok";const J=G,K=document.createElement("button");K.className="custom-order-dialog__cancel-button",K.textContent="Cancel";const U=K,V=document.createElement("div");V.className="custom-order-dialog__buttons-block";const W=V;function X(t,e){const o=document.createElement("div");return o.className="custom-order-dialog",c.appendChild(d),c.appendChild(m),p.appendChild(b),p.appendChild(h),f.appendChild(P),f.appendChild(x),S.appendChild(O),S.appendChild($),I.appendChild(w),I.appendChild(M),H.appendChild(R),H.appendChild(z),J.addEventListener("click",n=>{const i={symbol:o.getAttribute("data-symbol"),side:Number(m.value),type:Number(h.value),qty:Number($.value),takeProfit:Number(M.value),stopLoss:Number(z.value)};1===i.type?i.limitPrice=Number(x.value):3===i.type&&(i.stopPrice=Number(x.value)),t.placeOrder(i).then(()=>{e(!0)}).catch(()=>{e(!1)})}),U.addEventListener("click",t=>{e(!1)}),W.appendChild(J),W.appendChild(U),o.appendChild(n),o.appendChild(c),o.appendChild(p),o.appendChild(f),o.appendChild(S),o.appendChild(I),o.appendChild(H),o.appendChild(W),document.body.appendChild(o),o}function Y(t,e){if(t.style.display="block",t.setAttribute("data-symbol",e.symbol),1===e.side||-1===e.side){t.getElementsByClassName("custom-order-dialog__side-select")[0].value=String(e.side)}}const Z=document.createElement("div");Z.className="custom-position-dialog__header",Z.textContent="Custom Position Dialog";const tt=Z,et=document.createElement("div");et.className="custom-position-dialog__qty-section";const ot=et,nt=document.createElement("div");nt.className="custom-position-dialog__qty-header",nt.textContent="Quantity";const it=nt,ct=document.createElement("input");ct.type="text",ct.className="custom-position-dialog__qty-input";const st=ct,dt=document.createElement("div");dt.className="custom-position-dialog__tp-section";const at=dt,lt=document.createElement("div");lt.className="custom-position-dialog__tp-header",lt.textContent="Take Profit";const rt=lt,mt=document.createElement("input");mt.type="text",mt.className="custom-position-dialog__tp-input";const ut=mt,pt=document.createElement("div");pt.className="custom-position-dialog__sl-section";const vt=pt,bt=document.createElement("div");bt.className="custom-position-dialog__sl-header",bt.textContent="Stop Loss";const yt=bt,_t=document.createElement("input");_t.type="text",_t.className="custom-position-dialog__sl-input";const gt=_t,Ct=document.createElement("button");Ct.className="custom-position-dialog__ok-button",Ct.textContent="Ok";const ht=Ct,Et=document.createElement("button");Et.className="custom-position-dialog__cancel-button",Et.textContent="Cancel";const ft=Et,Nt=document.createElement("div");Nt.className="custom-position-dialog__buttons-block";const Pt=Nt;function Lt(t,e){const o=document.createElement("div");return o.className="custom-position-dialog",ot.appendChild(it),ot.appendChild(st),at.appendChild(rt),at.appendChild(ut),vt.appendChild(yt),vt.appendChild(gt),ht.addEventListener("click",n=>{const i=o.getAttribute("data-symbol"),c={takeProfit:Number(ut.value)||void 0,stopLoss:Number(gt.value)||void 0};if(!t.editPositionBrackets)throw new Error("should be implemented");t.editPositionBrackets(i,c).then(()=>{e(!0)}).catch(()=>{e(!1)})}),ft.addEventListener("click",t=>{e(!1)}),Pt.appendChild(ht),Pt.appendChild(ft),o.appendChild(tt),o.appendChild(ot),o.appendChild(at),o.appendChild(vt),o.appendChild(Pt),document.body.appendChild(o),o}function xt(t,e,o){t.style.display="block",t.setAttribute("data-symbol",e.id),t.getElementsByClassName("custom-position-dialog__qty-input")[0].value=String(e.qty),t.getElementsByClassName("custom-position-dialog__tp-input")[0].value=(void 0!==o.takeProfit?String(o.takeProfit):void 0)||"",t.getElementsByClassName("custom-position-dialog__sl-input")[0].value=(void 0!==o.stopLoss?String(o.stopLoss):void 0)||""}function kt(t){const e=document.createElement("div");e.classList.add("cancel-order-dialog"),e.innerHTML='\n\t\t<div class="cancel-order-dialog__header">\n\t\t\tCancel Order\n\t\t</div>\n\t\t<div id="cancel-order-content" class="cancel-order-dialog__content">\n\t\t</div>\n\t\t<div class="cancel-order-dialog__confirmation-section">\n\t\t\t<button id="cancel-order-cancel">Cancel</button>\n\t\t\t<button id="cancel-order-confirm">Confirm</button>\n\t\t</div>\n\t',document.body.appendChild(e);const o=document.getElementById("cancel-order-cancel");return o?.addEventListener("click",()=>{t(!1)}),e}function St(t){return(e,o)=>()=>{t.cancelOrder(e.id).then(()=>{o(!0)}).catch(()=>{o(!1)})}}function Bt(t,e,o){t.style.display="flex";const n=document.getElementById("cancel-order-content"),i=document.getElementById("cancel-order-confirm");n&&function(t,e){t.innerHTML=`\n\t\t<p>Are you sure you want to cancel order ${e.id}?</p>\n\t\t<p>\n\t\t\t<b>Order Summary</b><br/>\n\t\t\tSymbol: <b>${e.symbol}</b><br/>\n\t\t\tQuantity: <b>${e.qty}</b><br/>\n\t\t\tTake Profit: <b>${e.takeProfit}</b><br/>\n\t\t\tStop Loss: <b>${e.stopLoss}</b>\n\t\t</p>\n\t`}(n,o),i?.addEventListener("click",e)}function Ot(t,e){t.style.display="none";const o=document.getElementById("cancel-order-confirm");o?.removeEventListener("click",e)}function Dt(t){const e=document.createElement("div");e.classList.add("close-position-dialog"),e.innerHTML='\n\t\t<div class="close-position-dialog__header">\n\t\t\tClose Position\n\t\t</div>\n\t\t<div id="close-position-content" class="close-position-dialog__content">\n\n\t\t</div>\n\t\t<div class="close-position-dialog__confirmation-section">\n\t\t\t<button id="close-position-cancel">Cancel</button>\n\t\t\t<button id="close-position-confirm">Confirm</button>\n\t\t</div>\n\t',document.body.appendChild(e);const o=document.getElementById("close-position-cancel");return o?.addEventListener("click",()=>{t(!1)}),e}function $t(t){return(e,o)=>()=>{t.closePosition?.(e.id).then(()=>{o(!0)}).catch(()=>{o(!1)})}}function qt(t,e,o){t.style.display="flex";const n=document.getElementById("close-position-content"),i=document.getElementById("close-position-confirm");n&&function(t,e){t.innerHTML=`\n\t\t<p>Are you sure you want to close position ${e.id}?</p>\n\t\t<p>\n\t\t\t<b>Position Summary</b><br/>\n\t\t\tSymbol: <b>${e.symbol}</b><br/>\n\t\t\tQuantity: <b>${e.qty}</b><br/>\n\t\t\tSide: <b>${e.side}</b><br/>\n\t\t\tAverage Price: <b>${e.avgPrice}</b>\n\t\t</p>\n\t`}(n,o),i?.addEventListener("click",e)}function It(t,e){t.style.display="none";const o=document.getElementById("close-position-confirm");o?.removeEventListener("click",e)}function Tt(t){const e=document.createElement("div");e.classList.add("reverse-position-dialog"),e.innerHTML='\n\t\t<div class="reverse-position-dialog__header">\n\t\t\tReverse Position\n\t\t</div>\n\t\t<div id="reverse-position-content" class="reverse-position-dialog__content">\n\n\t\t</div>\n\t\t<div class="reverse-position-dialog__confirmation-section">\n\t\t\t<button id="reverse-position-cancel">Cancel</button>\n\t\t\t<button id="reverse-position-confirm">Confirm</button>\n\t\t</div>\n\t',document.body.appendChild(e);const o=document.getElementById("reverse-position-cancel");return o?.addEventListener("click",()=>{t(!1)}),e}function wt(t){return(e,o)=>()=>{t.reversePosition?.(e.id).then(()=>{o(!0)}).catch(()=>{o(!1)})}}function At(t,e,o){t.style.display="flex";const n=document.getElementById("reverse-position-content"),i=document.getElementById("reverse-position-confirm");n&&function(t,e){t.innerHTML=`\n\t\t<p>Are you sure you want to reverse position ${e.id}?</p>\n\t\t<p>\n\t\t\t<b>Position Summary</b><br/>\n\t\t\tSymbol: <b>${e.symbol}</b><br/>\n\t\t\tQuantity: <b>${e.qty}</b><br/>\n\t\t\tSide: <b>${e.side}</b><br/>\n\t\t\tAverage Price: <b>${e.avgPrice}</b>\n\t\t</p>\n\t`}(n,o),i?.addEventListener("click",e)}function Mt(t,e){t.style.display="none";const o=document.getElementById("reverse-position-confirm");o?.removeEventListener("click",e)}return e})());