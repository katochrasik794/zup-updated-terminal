(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1257],{678938:e=>{e.exports={dropdownButton:"dropdownButton-G6buUFKH",top:"top-G6buUFKH",left:"left-G6buUFKH",right:"right-G6buUFKH",bottom:"bottom-G6buUFKH"}},824674:e=>{e.exports={brand:"brand-H6_2ZGVv",hovered:"hovered-H6_2ZGVv",background:"background-H6_2ZGVv","states-without-bg":"states-without-bg-H6_2ZGVv",disableActiveStateStyles:"disableActiveStateStyles-H6_2ZGVv",dimmed:"dimmed-H6_2ZGVv",selected:"selected-H6_2ZGVv",activated:"activated-H6_2ZGVv",gray:"gray-H6_2ZGVv","light-gray":"light-gray-H6_2ZGVv",xsmall:"xsmall-H6_2ZGVv",small:"small-H6_2ZGVv",medium:"medium-H6_2ZGVv",large:"large-H6_2ZGVv",textButton:"textButton-H6_2ZGVv",link:"link-H6_2ZGVv",content:"content-H6_2ZGVv",withStartIcon:"withStartIcon-H6_2ZGVv","start-icon":"start-icon-H6_2ZGVv",withEndIcon:"withEndIcon-H6_2ZGVv","end-icon":"end-icon-H6_2ZGVv",iconOnly:"iconOnly-H6_2ZGVv",caret:"caret-H6_2ZGVv",semibold18px:"semibold18px-H6_2ZGVv",semibold16px:"semibold16px-H6_2ZGVv",semibold14px:"semibold14px-H6_2ZGVv",regular12px:"regular12px-H6_2ZGVv",regular14px:"regular14px-H6_2ZGVv",regular16px:"regular16px-H6_2ZGVv"}},623292:e=>{e.exports={group:"group-NGVKpq85"}},297822:e=>{e.exports={label:"label-oHMFhnC8"}},769523:e=>{e.exports={container:"container-TCHLKPuQ","container-danger":"container-danger-TCHLKPuQ","light-title":"light-title-TCHLKPuQ","light-icon":"light-icon-TCHLKPuQ",icon:"icon-TCHLKPuQ",header:"header-TCHLKPuQ","light-container-danger":"light-container-danger-TCHLKPuQ","container-warning":"container-warning-TCHLKPuQ","light-container-warning":"light-container-warning-TCHLKPuQ","container-success":"container-success-TCHLKPuQ","light-container-success":"light-container-success-TCHLKPuQ","container-default":"container-default-TCHLKPuQ","light-container-default":"light-container-default-TCHLKPuQ","text-wrap":"text-wrap-TCHLKPuQ","light-text-wrap":"light-text-wrap-TCHLKPuQ","close-button":"close-button-TCHLKPuQ","light-close-button":"light-close-button-TCHLKPuQ",informerBody:"informerBody-TCHLKPuQ",mainProblem:"mainProblem-TCHLKPuQ","header-inline":"header-inline-TCHLKPuQ","header-new-line":"header-new-line-TCHLKPuQ"}},452583:e=>{e.exports={anchor:"anchor-hRFQR3av"}},551338:e=>{e.exports={checkboxWrapper:"checkboxWrapper-z6S1ZMbp",checkbox:"checkbox-z6S1ZMbp",checkboxLabel:"checkboxLabel-z6S1ZMbp",withStopTypes:"withStopTypes-z6S1ZMbp"}},485206:e=>{e.exports={stopLossTypeAnchor:"stopLossTypeAnchor-eeYeu6dd"}},898307:e=>{e.exports={bracketControlGroup:"bracketControlGroup-RJadOowM",wrapper:"wrapper-RJadOowM",headingWrapper:"headingWrapper-RJadOowM",headingText:"headingText-RJadOowM",headingTextWrapper:"headingTextWrapper-RJadOowM",rewardRisk:"rewardRisk-RJadOowM"}},837243:e=>{e.exports={bracketControl:"bracketControl-qHmVwkNW",bracketFieldLabel:"bracketFieldLabel-qHmVwkNW",disabled:"disabled-qHmVwkNW",inputGroup:"inputGroup-qHmVwkNW",label:"label-qHmVwkNW"}},504179:e=>{e.exports={disabledButton:"disabledButton-wblY1zwW"}},736535:e=>{e.exports={wrapper:"wrapper-HLS9OacM",
help:"help-HLS9OacM"}},260382:e=>{e.exports={wait:"wait-DPlbqdw3",checkboxWrapper:"checkboxWrapper-DPlbqdw3"}},955806:e=>{e.exports={customField:"customField-64DiJaqR"}},66988:e=>{e.exports={wait:"wait-GhO6ya4a"}},934071:e=>{e.exports={currency:"currency-oqD5JCWK"}},749315:e=>{e.exports={disabled:"disabled-MXBoIkH5",listItem:"listItem-MXBoIkH5",listItemMarker:"listItemMarker-MXBoIkH5",listItemData:"listItemData-MXBoIkH5",listItemTitle:"listItemTitle-MXBoIkH5",sideBuy:"sideBuy-MXBoIkH5",sideSell:"sideSell-MXBoIkH5",divider:"divider-MXBoIkH5",subheading:"subheading-MXBoIkH5",subheadingDivider:"subheadingDivider-MXBoIkH5"}},624968:e=>{e.exports={wrapper:"wrapper-kb0OuE9E",header:"header-kb0OuE9E",subheader:"subheader-kb0OuE9E",disabled:"disabled-kb0OuE9E"}},456213:e=>{e.exports={wrapper:"wrapper-kE2Vzuu8",label:"label-kE2Vzuu8"}},744938:e=>{e.exports={controls:"controls-VP5GaBfG",cancelButton:"cancelButton-VP5GaBfG",mobile:"mobile-VP5GaBfG"}},705533:e=>{e.exports={button:"button-pP_E6i3F",disabledBuyColor:"disabledBuyColor-pP_E6i3F",disabledSellColor:"disabledSellColor-pP_E6i3F",modifyButtons:"modifyButtons-pP_E6i3F"}},339921:e=>{e.exports={container:"container-o0n6KbaV",button:"button-o0n6KbaV",topRadiusDisabled:"topRadiusDisabled-o0n6KbaV",rightRadiusDisabled:"rightRadiusDisabled-o0n6KbaV",bottomRadiusDisabled:"bottomRadiusDisabled-o0n6KbaV",leftRadiusDisabled:"leftRadiusDisabled-o0n6KbaV"}},952477:e=>{e.exports={body:"body-X70j90Zy"}},236032:e=>{e.exports={footer:"footer-fSCU20uC"}},81600:e=>{e.exports={header:"header-BitPgYCK",close:"close-BitPgYCK"}},872642:e=>{e.exports={message:"message-tNeiOkjz",error:"error-tNeiOkjz"}},614185:e=>{e.exports={panTile:"panTile-eoLBmZ4v",rootWrapper:"rootWrapper-eoLBmZ4v",panAreaWrapperStyle:"panAreaWrapperStyle-eoLBmZ4v",panAreaStyle:"panAreaStyle-eoLBmZ4v",drawerWrapperStyle:"drawerWrapperStyle-eoLBmZ4v",hidden:"hidden-eoLBmZ4v",scroll:"scroll-eoLBmZ4v",closedContentStyle:"closedContentStyle-eoLBmZ4v",mainContentStyle:"mainContentStyle-eoLBmZ4v",controlsWrapper:"controlsWrapper-eoLBmZ4v",controlsContent:"controlsContent-eoLBmZ4v",drawer:"drawer-eoLBmZ4v",animate:"animate-eoLBmZ4v"}},609484:(e,t,n)=>{"use strict";n.d(t,{TextButton:()=>b});var r=n(50959),o=n(497754),a=n.n(o),i=n(878112),l=n(234539),s=n(602948),c=n.n(s),d=n(824674),u=n.n(d);const p=e=>{const t=(0,r.useContext)(l.CustomBehaviourContext),{className:n,isSelected:o,isDimmed:i,isHovered:s,size:c="medium",color:d,startIcon:p,endIcon:m,showCaret:h,enableActiveStateStyles:b=t.enableActiveStateStyles,typography:v,iconOnly:g,isLink:f=!1,isActivated:k}=e;return a()(n,u().textButton,f&&u().link,o&&u().selected,i&&u().dimmed,s&&u().hovered,u()[d],u()[c],p&&u().withStartIcon,g&&u().iconOnly,(h||m)&&u().withEndIcon,!b&&u().disableActiveStateStyles,v&&u()[v],k&&u().activated)},m=e=>r.createElement(i.Icon,{...e.showCaret?void 0:e.endIconAriaAttrs,className:a()(u()["end-icon"],e.showCaret&&u().caret),icon:e.showCaret?c():e.endIcon});function h(e){return r.createElement(r.Fragment,null,r.createElement("span",{
className:a()(u().background,e.statesWithoutBg&&u()["states-without-bg"])}),e.startIcon&&r.createElement(i.Icon,{...e.startIconAriaAttrs,className:u()["start-icon"],icon:e.startIcon}),r.createElement("span",{className:u().content},e.children),(e.endIcon||e.showCaret)&&m(e))}function b(e){const{reference:t,className:n,isSelected:o,isHovered:a,isDimmed:i,children:l,startIcon:s,startIconAriaAttrs:c,showCaret:d,color:u,endIcon:m,endIconAriaAttrs:b,size:v,typography:g,iconOnly:f,statesWithoutBg:k,isActivated:y,...E}=e;return r.createElement("button",{...E,className:p({className:n,isSelected:o,isHovered:a,startIcon:s,showCaret:d,endIcon:m,color:u,size:v,typography:g,iconOnly:f,isDimmed:i,isActivated:y}),ref:t},r.createElement(h,{showCaret:d,startIcon:s,startIconAriaAttrs:{...c},endIcon:m,endIconAriaAttrs:{...b},statesWithoutBg:k},l))}n(591365);n(15378)},493455:(e,t,n)=>{"use strict";n.d(t,{ControlGroup:()=>d});var r=n(50959),o=n(497754),a=n.n(o),i=n(380327),l=n(623292),s=n.n(l);function c(e,t,n){return{isTop:e<t,isRight:e%t==t-1,isBottom:e>=t*(n-1),isLeft:e%t==0}}function d(e){const{children:t,rows:n,cols:o,disablePositionAdjustment:l,className:d,role:u,...p}=e,m=r.Children.count(t),h=o??m,b=n??function(e,t){return Math.ceil(e/t)}(m,h),v=(0,r.useMemo)((()=>{const e=[];for(let t=0;t<m;t++)e.push({isGrouped:!0,cellState:c(t,h,b),disablePositionAdjustment:l});return e}),[m,h,b,l]),g=r.Children.map(t,((e,t)=>r.createElement(i.ControlGroupContext.Provider,{value:v[t]},e))),f={"--ui-lib-control-group-cols":h.toString(10),"--ui-lib-control-group-rows":b.toString(10)};return r.createElement("span",{className:a()(s().group,d),style:f,role:u,...p},g)}},463039:(e,t,n)=>{"use strict";n.d(t,{Label:()=>c});var r=n(50959),o=n(497754),a=n.n(o),i=n(102691),l=n(297822),s=n.n(l);function c(e){const{htmlFor:t,children:n,className:o,id:l,...c}=e;return r.createElement(i.BeforeSlot,{...c,className:a()(s().label,o)},r.createElement("label",{id:l,htmlFor:t},n))}},918460:(e,t,n)=>{"use strict";n.d(t,{Informer:()=>y});var r,o,a=n(50959),i=n(497754),l=n.n(i),s=n(878112),c=n(389986),d=n(800417),u=n(530162),p=n.n(u),m=n(527941),h=n.n(m),b=n(499084),v=n.n(b),g=n(769523),f=n.n(g);!function(e){e.Danger="danger",e.Warning="warning",e.Success="success",e.Default="default"}(r||(r={})),function(e){e.Inline="inline",e.NewLine="new-line"}(o||(o={}));const k={danger:p(),warning:p(),success:v(),default:h()};function y(e){const{informerIntent:t,content:n,className:r,header:o,isIconShown:i=!0,isCloseButtonShown:u,icon:p,onCloseClick:m,closeButtonLabel:h="Close",headerPlacement:b="inline",children:v,isLight:g}=e;return a.createElement("div",{className:l()(f().container,f()[`container-${t}`],g&&f()[`light-container-${t}`],r),...(0,d.filterDataProps)(e),...(0,d.filterAriaProps)(e)},a.createElement("div",{className:f().informerBody},n&&a.createElement("div",{className:f().mainProblem},i&&a.createElement(s.Icon,{className:l()(f().icon,g&&f()["light-icon"]),icon:p??k[t]}),a.createElement("div",{className:l()(f()["text-wrap"],g&&f()["light-text-wrap"])
},o&&a.createElement("span",{className:l()(g&&f()["light-title"],f().header,f()[`header-${g?"new-line":b}`])},o),a.createElement("span",{"aria-live":"assertive"}," ",n))),v),u&&a.createElement(c.CloseButton,{"aria-label":h,onClick:m,className:l()(g&&f()["light-close-button"],f()["close-button"]),size:g?"xxsmall":"xsmall",preservePaddings:!g}))}},721717:(e,t,n)=>{"use strict";n.d(t,{Select:()=>P,SelectPopover:()=>k,useSelectAnchorProps:()=>I});var r=n(50959),o=n(497754),a=n.n(o),i=n(962089),l=n(380327),s=n(678938),c=n.n(s);function d(e){const{isGrouped:t,cellState:n}=(0,r.useContext)(l.ControlGroupContext);return t?r.createElement("div",{className:a()(c().dropdownButton,n.isTop&&c().top,n.isLeft&&c().left,n.isBottom&&c().bottom,n.isRight&&c().right)},r.createElement(i.DropdownButton,{...e,stretch:e.stretch??!0})):r.createElement(i.DropdownButton,{...e})}var u=n(152601),p=n(723991),m=n(354648),h=n(911794);function b(e){return"divider"!==e?.type}function v(e){return e.flatMap((e=>"items"in e?e.items:e))}var g=n(167554),f=n(603369);function k(e){const{isOpen:t,onClose:n,anchorId:o,anchorButtonRef:a,contentId:i,items:l,value:s,onChange:c,placementRules:d,width:p,height:m,closeOnClickAway:k,mobileBreakpoint:E,closeOnResizeWindow:w,closeOnScrollOutside:C,...I}=e,S=(0,r.useCallback)((e=>{n(!0,"currentLevel"),c(e)}),[n,c]),T=(0,r.useId)(),P=(0,r.useMemo)((()=>v(l.filter(b))),[l]),x=(0,r.useMemo)((()=>P.findIndex((e=>e.value===s))),[P,s]);(0,r.useEffect)((()=>{if(!t)return;if(-1===x)return;const e=`item_${T}_${x}`,n=document.getElementById(e);n&&function(e){if(window.requestIdleCallback){const t=window.requestIdleCallback(e);return()=>window.cancelIdleCallback(t)}{const t=setTimeout(e)}}((()=>{n.focus({preventScroll:!0}),(0,h.scrollPopoverItemIntoView)(n,!1)}))}),[T,x,t]);const B=(0,r.useCallback)((()=>{let e=0;function t(t){return r.createElement(y,{id:`item_${T}_${e++}`,key:`${t.title}:${t.description}`,value:s,item:t,onSelectItem:S})}return r.createElement(r.Fragment,null,l.map(((e,n)=>{return"items"in(o=e)||"divider"===o?.type?"divider"===e.type?r.createElement(f.DividerPopoverItem,{role:"presentation",key:`divider_${T}_${n}`}):r.createElement(g.SectionPopoverItem,{key:`group_${T}_${n}`,title:e.title},e.items.map(t)):t(e);var o})))}),[l,S,T,s]),H=(0,r.useMemo)(B,[B]),O=I;return r.createElement(u.PopoverKeyboardNavigator,{role:"listbox",ariaLabelledby:o,isOpen:t,onClose:n,anchored:{type:"element",at:a},idOfContentWrapperElement:i,placementRules:d,width:p,height:m,focusFirstItemOnOpen:!1,closeOnClickAway:k,mobileBreakpoint:E,closeOnResizeWindow:w,closeOnScrollOutside:C,...O},H)}function y(e){const{id:t,value:n,item:o,onSelectItem:a}=e,i=(0,r.useCallback)((()=>a(o.value)),[a,o.value]),l=n===o.value;return r.createElement(p.PopoverItem,{role:"option",selected:l,ariaChecked:l,title:o.title,leftSlot:(0,m.iconPart)(o),key:o.title,popoverItemButtonId:t,onClick:i,disabled:o.disabled,"data-qa-id":"ui-lib-popoverItem"})}var E=n(925286),w=n(928141),C=n(937901);function I(e){return function(e){
const{isOpen:t,onClose:n,contentId:r,anchorButtonRef:o,anchorId:a,handleAnchorClick:i,handleAnchorKeyDown:l}=(0,E.useDefaultButtonAnchorProps)({anchorId:e.anchorId,openOnEnter:e.openOnEnter});return{isOpen:t,anchorProps:{id:a,role:"combobox",onClick:i,onKeyDown:l,...(0,C.createRefProp)(e.refStyle,o),...(0,w.createAriaAttributesProps)(e.ariaStyle,{expanded:t,controls:r,haspopup:"listbox"})},popoverProps:{isOpen:t,anchorId:a,anchorButtonRef:o,contentId:r,onClose:n,items:e.items,value:e.value,onChange:e.onChange}}}({items:e.items,value:e.value,onChange:e.onChange,refStyle:e?.refStyle??"reference",ariaStyle:e?.ariaStyle??"kebab-case",openOnEnter:e.openOnEnter,anchorId:e?.anchorId})}var S=n(452583),T=n.n(S);function P(e){const{title:t,items:n,onChange:o,value:i,noneSelectedTitle:l,popoverPlacementRules:s,popoverWidth:c,popoverHeight:u,stretch:p,anchorButtonId:m,disabled:h,anchorButtonSize:g,anchorButtonSizeClassname:f,openOnEnter:y,anchorButtonIntent:E,popoverMobileBreakpoint:w,popoverCloseOnScrollOutside:C,popoverCloseOnResizeWindow:S}=e,P=(0,r.useMemo)((()=>v(n.filter(b)).find((e=>e.value===i))),[n,i]),{isOpen:x,anchorProps:B,popoverProps:H}=I({items:n,value:i,onChange:o,openOnEnter:y,ariaStyle:"camelCase",anchorId:m}),O=t??P?.title??l;return r.createElement(r.Fragment,null,r.createElement("div",{className:a()(f,T().anchor)},r.createElement(d,{...B,children:O,isOpen:x,stretch:p,disabled:h,size:g,intent:E})),r.createElement(k,{...H,placementRules:s,width:c,height:u,mobileBreakpoint:w,closeOnScrollOutside:C,closeOnResizeWindow:S}))}},728232:(e,t,n)=>{"use strict";n.d(t,{BracketControlGroup:()=>j});var r=n(50959),o=n(609838),a=n(497754),i=n.n(a),l=n(595943),s=n(661851),c=n(972535),d=n(894862),u=n(493455),p=n(463039),m=n(763281),h=n(209185),b=n(586639),v=n(587125),g=n(459409);const f=!1;function k(e){const{control:t,className:n,error:o,errorMessage:a,errorHandler:i,onFocus:l,intent:c,highlight:d,disabled:u,fontSizeStyle:p,isFractional:m,id:k,tabIndex:y,primaryFieldSelectorTooltip:E,"aria-controls":w,"data-qa-id":C,inputReference:I,...S}=e,T=(0,r.useRef)(null),P=(0,s.useObservable)(t.value$,t.getValue()),x=(0,s.useObservable)((0,h.isObservable)(t.formatter)?t.formatter:(0,b.of)(t.formatter)),B="function"==typeof t.step?t.step(P):t.step;return r.createElement(g.PrimaryInputSelector,{inputId:k,disabled:u||-1===y,isSelected:d,inputElement:T.current,handleSelect:l,tooltipText:E},r.createElement(v.NumberInput,{...S,id:k,inputMode:"decimal",intent:c,highlight:d,value:P,onValueChange:e=>{l?.(),t.setValue(e),t.onModifiedCallback?.()},className:n,step:B,error:o,errorMessage:a,errorHandler:i,inputReference:e=>{I?.(e),T.current=e},noReadonlyStyles:!0,disabled:u,fontSizeStyle:p,formatter:x,mode:m?"fractional":"float","aria-current":d,"aria-controls":d?w:void 0,readonly:!d,tabIndex:y,autoSelectOnFocus:!1,dataQaId:C,replaceDivider:f?replaceDivider:void 0}))}var y;!function(e){e.AbsoluteStopPrice="absolute-stop-price-field",e.RelativeStopPrice="relative-stop-price-field",e.AbsoluteLimitPrice="absolute-limit-price-field",
e.RelativeLimitPrice="relative-limit-price-field",e.Quantity="quantity-field",e.QuantityCalculation="quantity-calculation-field",e.TakeProfitPips="take-profit-pips-field",e.TakeProfitPrice="take-profit-price-field",e.TakeProfitRiskInCurrency="take-profit--risk-in-currency-field",e.TakeProfitRiskInPercent="take-profit-risk-in-percent-field",e.StopLossPips="stop-loss-pips-field",e.StopLossPrice="stop-loss-price-field",e.StopLossRiskInPercent="stop-loss-risk-in-percent-field",e.StopLossRiskInCurrency="stop-loss-risk-in-currency-field"}(y||(y={}));var E=n(302946),w=n(820660),C=n(609484),I=n(248606),S=n(499421),T=n(229144),P=n(485206);const x={[d.BracketType.StopLoss]:o.t(null,void 0,n(155304)),[d.BracketType.TakeProfit]:o.t(null,void 0,n(613450)),[d.BracketType.TrailingStop]:o.t(null,void 0,n(14821)),[d.BracketType.GuaranteedStop]:o.t(null,void 0,n(84848))};function B(e){const{items:t,selectedType:a,setBracketType:i}=e,{popoverProps:s,anchorProps:{ref:d,...u}}=(0,S.useMenuAnchorProps)({refStyle:"ref"}),p=(0,w.useEnterAndSpaceKeyDownHandler)(),m=(0,r.useMemo)((()=>t.map((e=>({title:x[e],selected:e===a,onClick:()=>i(e),dataAttributes:{"data-qa-id":`stop-loss-${e}-type-selection-item`}})))),[t,a,i]);return r.createElement("div",{onClick:H,onKeyDown:p,"data-qa-id":"stop-loss-type-selection"},r.createElement(l.Tooltip,{isRtl:(0,T.isRtl)(),content:o.t(null,void 0,n(102202)),trigger:c.mobiletouch?[l.Trigger.Focus]:[l.Trigger.Hover,l.Trigger.Focus]},r.createElement(C.TextButton,{...u,showCaret:!0,tabIndex:0,reference:d,size:"small",color:"gray","data-qa-id":"bracket-checkbox-label",className:P.stopLossTypeAnchor,isSelected:s.isOpen},x[a])),r.createElement(I.MenuPopover,{...s,items:m,dataQaId:"stop-loss-type-selection-dropdown"}))}function H(e){e.stopPropagation(),e.preventDefault()}var O=n(551338);const N={[d.BracketType.StopLoss]:o.t(null,void 0,n(155304)),[d.BracketType.TakeProfit]:o.t(null,void 0,n(613450)),[d.BracketType.TrailingStop]:o.t(null,void 0,n(14821)),[d.BracketType.GuaranteedStop]:o.t(null,void 0,n(84848))};function L(e){const{type:t,enabled:n,controlState:o,stopLossTypes:a,setBracketType:l,onToggleEnabled:s,supportStopLoss:c,supportTrailingStop:u,supportGuaranteedStop:p}=e,{labelDisabled:m,checkboxDisabled:h}=o,b=t!==d.BracketType.TakeProfit,v=N[t],g=c||u||p;let f;f=b&&g&&!m?r.createElement(B,{selectedType:t,items:a,setBracketType:l}):r.createElement("span",{"data-qa-id":"bracket-checkbox-label",className:i()(O.checkboxLabel,g&&O.withStopTypes)},v);const k=(0,w.useEnterAndSpaceKeyDownHandler)(s);return r.createElement("div",{"data-qa-id":"checkbox-wrapper",className:O.checkboxWrapper,onKeyDown:k},r.createElement(E.Checkbox,{tabIndex:0,checked:n,label:f,className:O.checkbox,onChange:s,disabled:h,"data-qa-id":`order-ticket-${b?"loss":"profit"}-checkbox-bracket`}))}var M=n(528457),A=n(152601),D=n(650151),F=n(923058),R=n(630855),$=n(737563),q=n(744471);function G(e){const{selected:t,onSelect:n,priceEquivalentInfo:o}=e,{type:a,isNew:i,title:l,informerText:s}=o,c=(0,w.useEnterAndSpaceKeyDownHandler)();let d=l
;return s&&(d=r.createElement(r.Fragment,null,r.createElement("span",{"data-qa-id":`equivalent-type-${a}`},l),r.createElement(F.ContextAction,null,r.createElement("div",{onKeyDown:c},r.createElement($.IconQuestionInformationButton,{tabIndex:0,tooltip:s,ariaLabel:s,onClick:V,icon:"info",intent:t?"neutral-light":void 0}))))),r.createElement(R.ContextActionsPopoverItem,{title:d,selected:t,onClick:()=>n(a),rightSlot:void 0,"data-qa-id":`bracket-price-equivalent-selector-dropdown-${a}-type-item`})}function V(e){e.stopPropagation(),c.mobiletouch&&((0,q.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}var _=n(504179);const W="equivalent-selector-types-dropdown",z=o.t(null,void 0,n(472227));function K(e){const{disabled:t,priceEquivalentType:n,setPriceEquivalentType:o,availablePriceEquivalentsInfo:a}=e,i=(0,r.useRef)(null),{isOpen:s,onClose:d,onOpen:u}=(0,M.useRootPopoverOpenState)(i),p=(0,w.useEnterAndSpaceKeyDownHandler)(u),m=(0,r.useCallback)((e=>{o(e),d(!1)}),[o,d]),h=t?void 0:c.mobiletouch?[l.Trigger.Focus]:[l.Trigger.Hover,l.Trigger.Focus],b=(0,D.ensureDefined)(a.find((({type:e})=>e===n)),"priceEquivalentInfo");return r.createElement(r.Fragment,null,r.createElement(l.Tooltip,{isRtl:!1,content:z,trigger:h},r.createElement(C.TextButton,{showCaret:!0,id:W,onClick:u,isSelected:s,disabled:t,reference:i,size:"small","data-qa-id":W,color:"light-gray",onKeyDown:p,className:t?_.disabledButton:void 0},b.title)),r.createElement(A.PopoverKeyboardNavigator,{isOpen:s,onClose:d,"data-qa-id":"menu-inner",anchored:{type:"element",at:i}},a.map((e=>r.createElement(G,{key:e.type,priceEquivalentInfo:e,onSelect:m,selected:n===e.type})))))}var Z=n(837243);const Q={[d.BracketType.StopLoss]:"stop-loss",[d.BracketType.TakeProfit]:"take-profit",[d.BracketType.TrailingStop]:"trailing-stop",[d.BracketType.GuaranteedStop]:"guaranteed-stop"},U={[d.BracketType.StopLoss]:o.t(null,void 0,n(510083)),[d.BracketType.TakeProfit]:o.t(null,void 0,n(973110)),[d.BracketType.TrailingStop]:o.t(null,void 0,n(108810)),[d.BracketType.GuaranteedStop]:o.t(null,void 0,n(743575))};function X(e){const{type:t,enabled:a,controlState:l,focusedControl:s,error:c,stopLossTypes:h,price:b,priceEquivalent:v,priceEquivalentType:g,setBracketType:f,setPriceEquivalentType:y,errorHandler:E,handlePriceEquivalentInputRef:w,handlePriceInputRef:C,fontSizeStyle:I,supportStopLoss:S,supportTrailingStop:T,supportGuaranteedStop:P,onFocus:x,onToggleEnabled:B,availablePriceEquivalentsInfo:H}=e,O=(0,r.useContext)(m.WidgetContext),{inputDisabled:N}=l,M=t!==d.BracketType.TakeProfit,A=Boolean(c&&c.res),D=c&&c.msg,F=O.isFractional,R=(0,r.useMemo)((()=>t===d.BracketType.TakeProfit?"take-profit-price-field":"stop-loss-price-field"),[t]),$=(0,r.useMemo)((()=>t===d.BracketType.TakeProfit?{Pips:"take-profit-pips-field",RiskInPercent:"take-profit-risk-in-percent-field",RiskInCurrency:"take-profit--risk-in-currency-field"}:{Pips:"stop-loss-pips-field",RiskInPercent:"stop-loss-risk-in-percent-field",RiskInCurrency:"stop-loss-risk-in-currency-field"
}),[t]),q=U[t],G=a?void 0:-1,V=a&&"Price"===s,_=a&&"PriceEquivalent"===s,W=(0,r.useCallback)((()=>x("Price")),[x]),z=(0,r.useCallback)((e=>{y(e),x("PriceEquivalent")}),[x,y]),X=N||!a;return r.createElement("div",{className:Z.bracketControl,"data-qa-id":M?"stop-loss-bracket-control":"take-profit-bracket-control"},r.createElement(L,{type:t,enabled:a,controlState:l,stopLossTypes:h,setBracketType:f,onToggleEnabled:B,supportStopLoss:S,supportTrailingStop:T,supportGuaranteedStop:P}),r.createElement(u.ControlGroup,{cols:2,className:Z.inputGroup},r.createElement("div",null,r.createElement("div",{onClick:W,className:i()(Z.bracketFieldLabel,X&&Z.disabled)},r.createElement(p.Label,{className:Z.label,htmlFor:R},o.t(null,void 0,n(7953)))),r.createElement(k,{control:b,id:R,disabled:X,className:Z.control,onFocus:W,errorHandler:E,errorMessage:D,isFractional:F,fontSizeStyle:I,tabIndex:G,highlight:V,inputReference:C,"aria-current":V,error:A&&V,"data-qa-id":`bracket-${Q[t]}-price`,primaryFieldSelectorTooltip:q,intent:A&&V?"danger":void 0,"aria-controls":V?$[g]:void 0})),r.createElement("div",null,r.createElement("div",{className:Z.bracketFieldLabel},r.createElement(K,{disabled:X,priceEquivalentType:g,availablePriceEquivalentsInfo:H,setPriceEquivalentType:z})),r.createElement(k,{id:$[g],className:Z.control,highlight:_,"aria-current":_,errorHandler:E,errorMessage:D,primaryFieldSelectorTooltip:q,fontSizeStyle:I,error:A&&_,tabIndex:G,disabled:N||!a,inputReference:w,onFocus:()=>x("PriceEquivalent"),"aria-controls":_?R:void 0,"data-qa-id":`bracket-${Q[t]}-price-equivalent-input bracket-in-PriceEquivalent`,intent:A&&_?"danger":void 0,control:v}))))}function Y(e){const{model:t,orderTicketFocus:n}=e,{enabled$:o,error$:a,focusedControl$:i,bracketType$:l,priceEquivalentType$:u,stopLossTypes:p,price:m,priceEquivalent:h,isValuesInitialized$:b,controlState:v,onControlFocused:g,supportTrailingStop:f,supportGuaranteedStop:k,supportStopLoss:y,getFocusedControl:E,getEnabled:w,getBracketType:C,getError:I,setFocusedControl:S,setEnabled:T,setBracketType:P,setControlError:x,setPriceEquivalentType:B,availablePriceEquivalentsInfo:H}=t,O=(0,s.useObservable)(i,E()),N=(0,s.useObservable)(l,C()),L=(0,s.useObservable)(o,w()),M=(0,s.useObservable)(a,I()),A=(0,s.useObservable)(b,!1),D=(0,s.useObservable)(u,t.getPriceEquivalentType()),F=(0,r.useRef)(null),R=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(c.mobiletouch||!L)return;const e=e=>{null!==e&&A&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},t=N===d.BracketType.TakeProfit&&3===n,r=(N===d.BracketType.StopLoss||N===d.BracketType.GuaranteedStop)&&4===n,o=t||r,a=N===d.BracketType.TrailingStop&&4===n;o&&e(R.current),a&&e(F.current)}),[A,L]);const $=(0,r.useCallback)((e=>{A&&(L||T(!0),O!==e&&S(e),"PriceEquivalent"===e&&document.activeElement!==F.current&&setTimeout((()=>F.current?.focus())),g.fire())}),[L,T,O,S,A]);return r.createElement(X,{type:N,enabled:L,error:M,priceEquivalentType:D,stopLossTypes:p,price:m,focusedControl:O,onFocus:$,onToggleEnabled:function(){T(!L),g.fire()},
errorHandler:function(e){x(e)},handlePriceEquivalentInputRef:e=>F.current=e,handlePriceInputRef:e=>R.current=e,setBracketType:P,setPriceEquivalentType:B,priceEquivalent:h,controlState:v,supportStopLoss:y,supportTrailingStop:f,supportGuaranteedStop:k,fontSizeStyle:"medium",availablePriceEquivalentsInfo:H})}var J=n(898307);function j(e){const{model:t,focus:a}=e,c=(0,s.useObservable)(t.rewardRisk$);return r.createElement("div",{className:J.wrapper},r.createElement("div",{className:J.headingWrapper},r.createElement("div",{className:J.headingTextWrapper},r.createElement("div",{className:i()(J.headingText,"apply-overflow-tooltip")},o.t(null,void 0,n(563094)))),c&&r.createElement(l.Tooltip,{content:o.t(null,{replace:{value:c}},n(853950))},r.createElement("div",{className:J.rewardRisk},o.t(null,{replace:{value:c},context:"risk_reward"},n(760343))))),r.createElement("div",{className:J.bracketControlGroup},t.takeProfitModel&&r.createElement(Y,{model:t.takeProfitModel,orderTicketFocus:a}),t.stopLossModel&&r.createElement(Y,{model:t.stopLossModel,orderTicketFocus:a})))}},14699:(e,t,n)=>{"use strict";n.d(t,{CustomFields:()=>S});var r=n(50959),o=n(302946),a=n(481476),i=n(472488),l=n(892106),s=n(260382);function c(e){const{id:t,inputType:n,className:c,text:d,title:u,placeholder:p,onCheckboxToggle:m,onClick:h,onInputChange:b,errorMessage:v,checked:g,checkboxTitle:f}=e,k=`custom_field_with_checkbox__${t}`;return r.createElement("div",{className:c},u&&u.length>0&&r.createElement(i.Label,{htmlFor:k},u),r.createElement(a.FormInput,{stretch:!0,id:k,type:n,value:d,placeholder:p,onChange:b,onClick:h,hasErrors:void 0!==v,messagesPosition:l.MessagesPosition.Attached,messagesAttachment:l.ControlMessagesAttachment.Top,errors:v?[v]:void 0}),r.createElement("div",{className:s.checkboxWrapper},r.createElement(o.Checkbox,{checked:g,label:f,onChange:m})))}var d=n(661851);function u(e){const{inputType:t,id:n,text$:o,getText:a,setText:i,checked$:l,getChecked:u,setChecked:p,title:m,checkboxTitle:h,placeholder:b,isWait:v,onControlFocused:g,errorMessage$:f}=e,k=(0,d.useObservable)(o,a()),y=(0,d.useObservable)(l,u()),E=(0,d.useObservable)(f);return r.createElement(c,{className:v?s.wait:void 0,id:n,inputType:t,text:k,checked:y,title:m,checkboxTitle:h,placeholder:b,onInputChange:e=>i(e.currentTarget.value),onCheckboxToggle:()=>{p(!y),g.fire()},onClick:()=>g.fire(),errorMessage:E})}var p=n(609838),m=n(721717),h=n(102691),b=n(148982);function v(e){const{items:t,forceUserToSelectValue:o,alwaysShowAttachedErrors$:s,selectedItem:c,disabled:u,title:v,onClick:g,onItemSelected:f}=e,k=`custom-combobox__${e.id}`,y=(0,r.useMemo)((()=>function(e){return e.map((e=>({value:e.value,title:e.text})))}(t)),[t]),E=(0,r.useMemo)((()=>function(e,t){if(e)return t.find((t=>t.value===e))?.text}(c,t)),[c,t]),{anchorProps:w,popoverProps:C}=(0,m.useSelectAnchorProps)({items:y,value:c,onChange:f}),I=(0,d.useObservable)(s),S=void 0===c&&o;return r.createElement(r.Fragment,null,r.createElement(i.Label,{htmlFor:k},v),r.createElement(a.FormInput,{...w,stretch:!0,readonly:!0,
noReadonlyStyles:!0,disabled:u,disableMessagesRtlStyles:!0,id:k,onClick:e=>{w.onClick(e),g?.()},value:E||p.t(null,void 0,n(707343)),onChange:()=>{},endSlot:r.createElement(h.EndSlot,null,r.createElement(b.Caret,{isDropped:C.isOpen})),"aria-required":o,"aria-invalid":S,hasErrors:S,messagesPosition:l.MessagesPosition.Attached,messagesAttachment:l.ControlMessagesAttachment.Top,alwaysShowAttachedErrors:I,errors:[p.t(null,void 0,n(280784))]}),r.createElement(m.SelectPopover,{...C}))}function g(e){const{title:t,id:n,items:o,selectedItem$:a,getSelectedItem:i,setSelectedItem:l,forceUserToSelectValue:s,alwaysShowAttachedErrors$:c,disabled:u,onControlFocused:p}=e,m=(0,d.useObservable)(a,i());return r.createElement(v,{title:t,id:n,items:o,selectedItem:m,onItemSelected:e=>l(e),disabled:u,onClick:()=>p?.fire(),forceUserToSelectValue:s,alwaysShowAttachedErrors$:c})}var f=n(842865),k=n(736535);function y(e){const{title:t,help:n,solutionId:a,disabled:i,checked$:l,getChecked:s,setChecked:c,onControlFocused:u}=e,p=(0,d.useObservable)(l,s()),m=Boolean(n)||void 0!==a;return r.createElement("div",{className:k.wrapper,onFocus:function(){u?.fire()}},r.createElement(o.Checkbox,{label:t,checked:p,onChange:function(){c(!p)},disabled:i}),m&&r.createElement(f.TradingInformer,{informerMessage:n,solutionId:a,className:k.help,intent:"neutral-light"}))}function E(e){const{inputType:t,className:n,id:o,text:s,title:c,placeholder:d,onInputChange:u,onClick:p,errorMessage:m,disabled:h}=e,b=`custom-text-input__${o}`;return r.createElement("div",null,c&&c.length>0&&r.createElement(i.Label,{htmlFor:b},c),r.createElement(a.FormInput,{stretch:!0,className:n,id:b,type:t,value:s,placeholder:d,onChange:u,onClick:p,hasErrors:void 0!==m,messagesPosition:l.MessagesPosition.Attached,messagesAttachment:l.ControlMessagesAttachment.Top,errors:m?[m]:void 0,disabled:h}))}var w=n(66988);function C(e){const{inputType:t,text$:n,id:o,getText:a,setText:i,title:l,placeholder:s,isWait:c,onControlFocused:u,errorMessage$:p,disabled:m}=e,h=(0,d.useObservable)(n,a()),b=(0,d.useObservable)(p);return r.createElement(E,{className:c?w.wait:void 0,id:o,inputType:t,text:h,title:l,placeholder:s,onInputChange:e=>i(e.currentTarget.value),onClick:()=>u.fire(),errorMessage:b,disabled:m})}var I=n(955806);function S(e){const{customFieldModels:t,isWait:n,forceUserToSelectValue:o}=e;return r.createElement(r.Fragment,null,t.map((e=>r.createElement("div",{key:e.id,className:I.customField},"TextField"===e.type&&r.createElement(C,{inputType:e.inputType,id:e.id,text$:e.text$,getText:e.getText,setText:e.setText,placeholder:e.placeholder,title:e.title,isWait:n,onControlFocused:e.onControlFocused,errorMessage$:e.errorMessage$,disabled:e.disabled}),"TextWithCheckBox"===e.type&&r.createElement(u,{inputType:e.inputType,id:e.id,text$:e.text$,getText:e.getText,setText:e.setText,placeholder:e.placeholder,checked$:e.checked$,getChecked:e.getChecked,setChecked:e.setChecked,title:e.title,checkboxTitle:e.checkboxTitle,isWait:n,onControlFocused:e.onControlFocused,errorMessage$:e.errorMessage$
}),"Checkbox"===e.type&&r.createElement(y,{...e}),"ComboBox"===e.type&&r.createElement(g,{title:e.title,id:e.id,items:e.items,selectedItem$:e.selectedItem$,getSelectedItem:e.getSelectedItem,setSelectedItem:e.setSelectedItem,onControlFocused:e.onControlFocused,disabled:e.items.length<=1,forceUserToSelectValue:o,alwaysShowAttachedErrors$:e.alwaysShowAttachedErrors$})))))}},556013:(e,t,n)=>{"use strict";n.d(t,{OrderPanelCustomFields:()=>l});var r=n(50959),o=n(363111),a=n(763281),i=n(14699);function l(e){const{customFieldModels:t}=e,{orderPanelStatus:n}=(0,r.useContext)(a.WidgetContext);return r.createElement(i.CustomFields,{customFieldModels:t,isWait:n===o.OrderPanelStatus.Wait,forceUserToSelectValue:n===o.OrderPanelStatus.Active})}},274837:(e,t,n)=>{"use strict";n.d(t,{useCommonDialogHandlers:()=>l});var r=n(50959),o=n(559410),a=n(206594),i=n(996038);function l(e){const{isOpened:t,onOpen:n,onClose:l}=e;(0,r.useEffect)((()=>{const e=()=>{l?.()};o.subscribe(a.CLOSE_POPUPS_AND_DIALOGS_COMMAND,e,null);const r=window.matchMedia(i.DialogBreakpoints.TabletSmall),s=window.matchMedia("(orientation: portrait)"),c=()=>{t?n?.(r.matches):l?.()};return c(),s.addEventListener("change",c),()=>{o.unsubscribe(a.CLOSE_POPUPS_AND_DIALOGS_COMMAND,e,null),s.removeEventListener("change",c)}}),[t,l,n])}},204926:(e,t,n)=>{"use strict";n.d(t,{InfoTable:()=>b});var r=n(50959),o=n(497754),a=n(609838),i=n(234404),l=n(737563),s=n(229144),c=n(934071);const d=e=>{const{value:t,status:o,currency:d,error:u=a.t(null,void 0,n(57335)),isDataApproximate:p}=e;switch(o){case 1:return r.createElement(i.Loader,{size:"small",staticPosition:!0});case 2:return r.createElement(l.IconQuestionInformation,{icon:"exclamation",intent:"warning",ariaLabel:u,tooltip:u,size:"small"});case 3:return r.createElement("span",null,"—");default:{let e=t||"—";return p&&t&&(e=(0,s.forceLTRStr)("≈ "+e)),d?r.createElement("span",{dir:"ltr"},r.createElement("span",null,e),r.createElement("span",{className:c.currency}," "+d)):r.createElement("span",null,e)}}};var u=n(749315);const p=e=>{const{row:t,status:n,disabled:a,error:i,isDataApproximate:l}=e;return"separator"===t.type?r.createElement("div",{className:u.divider}):"subheading"===t.type?r.createElement(r.Fragment,null,r.createElement("div",{className:u.divider}),r.createElement("div",{className:u.subheading},t.value)):r.createElement("div",{className:t.listMarker?u.listItemMarker:void 0},r.createElement("div",{className:o(u.listItem,a&&u.disabled)},r.createElement("div",{className:u.listItemTitle},t.title),r.createElement("div",{className:o(u.listItemData,m(t.type))},r.createElement(d,{value:t.value,currency:t.value?t.currency:void 0,error:i,status:n,isDataApproximate:!t.isConstant&&l}))))};function m(e){switch(e){case 0:return u.sideBuy;case 1:return u.sideSell;default:return}}var h=n(624968);function b(e){const{rows:t,header:n,status:a,disabled:i,isDataApproximate:l,error:s,subheader:c}=e;return r.createElement("div",{className:o(h.wrapper,i&&h.disabled)},n?r.createElement("div",{className:h.header},n):c&&r.createElement("div",{
className:h.subheader},c),r.createElement("div",null,t.map(((e,t)=>r.createElement(p,{key:t,row:e,disabled:i,error:s,isDataApproximate:l,status:a})))))}},472488:(e,t,n)=>{"use strict";n.d(t,{Label:()=>l});var r=n(50959),o=n(497754),a=n.n(o),i=n(456213);function l(e){const{children:t,className:n,...o}=e;return r.createElement("span",{className:a()(i.wrapper,n)},r.createElement("label",{...o,className:i.label},t))}},110686:(e,t,n)=>{"use strict";n.d(t,{OrderDrawerControlContent:()=>h});var r=n(50959),o=n(423869),a=n(69111),i=n(497754),l=n.n(i),s=n(609838),c=n(228837),d=n(234404),u=n(661851);function p(e){const{reference:t,buttonModel:n,side$:o,getSide:a,isButtonDisabled$:i,isButtonDisabled:l,loading$:s,doneButtonClick:p}=e,m=(0,u.useObservable)(i,l()),h=(0,u.useObservable)(s,!1),{primaryText:b}=(0,u.useObservable)(n.value$,n.getValue()),v=1===(0,u.useObservable)(o,a())?"blue":"red";return r.createElement(c.SquareButton,{reference:t,size:"medium",variant:"primary",color:v,disabled:h||m,onClick:()=>p(),"data-name":"place-and-modify-button"},h?r.createElement(d.Loader,null):b)}var m=n(744938);function h(e){const{onClose:t,sideModel:i,side:d,isButtonDisabled$:u,isButtonDisabled:h,loading$:b,doneButtonClick:v,buttonModel:g}=e;return r.createElement("div",{className:m.controls},r.createElement(c.SquareButton,{size:"medium",variant:"secondary",color:"gray",onClick:t,className:l()(m.cancelButton,(0,a.isOnMobileAppPage)("any")&&m.mobile),"aria-label":s.t(null,void 0,n(826484))},s.t(null,void 0,n(904543))),void 0!==g&&r.createElement(p,{buttonModel:g,side$:void 0!==i?i.value$:o.EMPTY,getSide:()=>d(),isButtonDisabled$:u,isButtonDisabled:()=>h(),loading$:b,doneButtonClick:()=>v()}))}},570446:(e,t,n)=>{"use strict";n.d(t,{PlaceAndModifyButton:()=>m});var r=n(50959),o=n(423869),a=n(497754),i=n.n(a),l=n(234404),s=n(609838),c=n(228837),d=n(363111),u=n(661851),p=n(705533);function m(e){const{model:t,reference:a,buttonModel:m}=e,h=t.hasOwnProperty("sideModel")&&"sideModel"in t?t.sideModel.value$:o.EMPTY,b=t.hasOwnProperty("orderPlacingStatus$")&&"orderPlacingStatus$"in t?t.orderPlacingStatus$:o.EMPTY,v=(0,u.useObservable)(t.isButtonDisabled$,t.isButtonDisabled()),g=(0,u.useObservable)(m.isBlocked$,m.getIsBlocked()),f=(0,u.useObservable)(t.loading$,!1),k=(0,u.useObservable)(m.value$,m.getValue()),y=(0,u.useObservable)(m.cancelButtonShown$,m.isCancelButtonShown()),E=(0,u.useObservable)(h,t.side()),w=(0,u.useObservable)(b,d.OrderPlacingStatus.Creating),C=(0,u.useObservable)(t.status$,t.getStatus()),I=function(e,t){return e===d.OrderPanelStatus.Wait?"gray":1===t?"blue":"red"}(C,E),S=1===E?p.disabledBuyColor:p.disabledSellColor,T=w===d.OrderPlacingStatus.Placed,P=C===d.OrderPanelStatus.Active&&g,x=T||P;return f?r.createElement(c.SquareButton,{reference:a,className:p.button,size:"xlarge",disabled:!0,"data-name":"place-and-modify-button"},r.createElement(l.Loader,null)):y?r.createElement("div",{className:p.modifyButtons},r.createElement(c.SquareButton,{...B(),variant:"primary",size:"medium"},k.primaryText),r.createElement(c.SquareButton,{
"data-name":"button-back",onClick:()=>t.onBackButtonClicked().fire(),color:"gray",variant:"secondary",className:p.button,size:"medium"},s.t(null,void 0,n(904543)))):r.createElement(c.SquareButton,{...B(),size:"xlarge"},void 0===k.secondaryText?k.primaryText:null);function B(){return{...k,"data-name":"place-and-modify-button",reference:a,onClick:t.doneButtonClick,color:I,className:i()(p.button,x&&S),disabled:v}}}},459409:(e,t,n)=>{"use strict";n.d(t,{PrimaryInputSelector:()=>p});var r=n(50959),o=n(497754),a=n.n(o),i=n(595943),l=n(380327),s=n(820660),c=n(930202);const d=[9,16,1040,1033];var u=n(339921);const p=(0,r.memo)((function(e){const t=(0,r.useContext)(l.ControlGroupContext),{inputId:n,children:o,disabled:p,isSelected:m,tooltipText:h,inputElement:b,handleSelect:v,"data-qa-id":g}=e,f=(0,r.useCallback)((()=>{v(),b?.focus()}),[b,v]),k=(0,s.useEnterAndSpaceKeyDownHandler)(f,{stopAllPropagation:!0}),y=(E=f,(0,r.useCallback)((e=>{const t=(0,c.hashFromEvent)(e);d.includes(t)||E()}),[E]));var E;const w=a()(u.button,{[u.bottomRadiusDisabled]:!t?.cellState.isBottom,[u.leftRadiusDisabled]:!t?.cellState.isLeft,[u.rightRadiusDisabled]:!t?.cellState.isRight,[u.topRadiusDisabled]:!t?.cellState.isTop});return(0,r.useEffect)((()=>(b&&!m&&b.addEventListener("keydown",y),()=>{b?.removeEventListener("keydown",y)})),[m,b,y]),r.createElement("div",{className:u.container,"data-qa-id":g},!m&&!p&&r.createElement(i.Tooltip,{isRtl:!1,content:h,trigger:i.Trigger.Focus},r.createElement("button",{"aria-controls":n,"aria-label":h,className:w,onKeyDown:k})),r.createElement("div",{tabIndex:-1,onMouseDown:p?void 0:v,"data-qa-id":"primary-input-selector-wrapper"},o))}))},930894:(e,t,n)=>{"use strict";n.d(t,{Body:()=>i});var r=n(50959),o=n(497754);n(81600),n(608636),n(878112);n(236032);var a=n(952477);function i(e){return r.createElement("div",{className:o(a.body,e.className),ref:e.reference},e.children)}n(908783),n(872642)},977540:(e,t,n)=>{"use strict";n.d(t,{ResizableDrawer:()=>P,ResizableDrawerContentHeight:()=>r});var r,o=n(50959),a=n(111553),i=n(497754),l=n.n(i),s=n(69111),c=n(111982),d=n(650151),u=n(103064),p=n(702054),m=n(613113),h=n(297265),b=n(614185);!function(e){e[e.Collapsed=0]="Collapsed",e[e.Medium=1]="Medium",e[e.Full=2]="Full"}(r||(r={}));const v={panAreaHeight:16,controlsContentHeight:64,panAreaInvisibleHeight:48,drawerWidth:{horz:60,vert:100},maximumDrawerWidth:400,lowClientHeightBreakpoint:316,swipeDistanceThreshold:1,swipeVelocityThreshold:.3,animationTiming:150},g={[r.Collapsed]:{ascendingBreakPoint:null,descendingBreakPoint:20,descendingBreakPointForLowHeight:90,position:64},[r.Medium]:{ascendingBreakPoint:30,descendingBreakPoint:50,position:40},[r.Full]:{ascendingBreakPoint:85,descendingBreakPoint:null,position:95}};function f(e,t){return Math.round(t*e/100)}function k(e,t){const n=f(g[r.Full].position,e),o=g[r.Collapsed].position;return t>n?n:t<o?o:t}function y(e,t){const n=f(g[r.Full].position,e.windowInnerHeight),o=g[r.Collapsed].position,a=e.moveInitialPoint+t;return a>n?n-e.moveInitialPoint:a<o?o-e.moveInitialPoint:t}
function E(e,t){const n=e>v.lowClientHeightBreakpoint?f(g[r.Collapsed].descendingBreakPoint,e):g[r.Collapsed].descendingBreakPointForLowHeight,o=g[r.Collapsed].position;if(t>n)return 1;if(t<=o)return 0;return(t-o)/(n-o)}function w(e,t){return{moveInitialPoint:k(e.windowInnerHeight,t+v.controlsContentHeight),heightIncrement:y(e,0),animate:!0}}function C(e){const t=k(e.windowInnerHeight,g[r.Collapsed].position);return{moveInitialPoint:t,heightIncrement:y(e,0),animate:!0,opacity:E(e.windowInnerHeight,t)}}function I(e,t){const n=f(e.windowInnerHeight,g[r.Medium].position),o=(t.current?.offsetHeight??0)+v.panAreaHeight;if(o<n)return w(e,o);const a=k(e.windowInnerHeight,n);return{moveInitialPoint:a,heightIncrement:y(e,0),animate:!0,opacity:E(e.windowInnerHeight,a)}}function S(e,t){const n=f(e.windowInnerHeight,g[r.Full].position),o=(t.current?.offsetHeight??0)+v.panAreaHeight;if(o<n)return w(e,o);const a=k(e.windowInnerHeight,n);return{moveInitialPoint:a,heightIncrement:y(e,0),animate:!0,opacity:E(e.windowInnerHeight,a)}}function T(e){return{heightIncrement:0,moveInitialPoint:e,isSwiped:!1,isDragging:!1,animate:!1,opacity:E(document.documentElement.clientHeight,e),windowInnerHeight:document.documentElement.clientHeight,windowInnerWidth:document.documentElement.clientWidth}}function P(e){const{children:t,closedContent:n,controlsContent:i,disableSwipe:P,disablePan:x,contentHeight:B=r.Collapsed}=e,H=(0,o.useRef)(null),O=(0,o.useRef)(null),N=(0,o.useRef)(null),L=(0,h.useWatchedValueReadonly)({watchedValue:p.watchedTheme}),[M,A]=(0,o.useState)(T(g[r.Collapsed].position)),D=(0,o.useMemo)((()=>{const e=!(M.moveInitialPoint+M.heightIncrement<=g[r.Collapsed].position);return!M.isDragging&&!M.animate&&e}),[M.moveInitialPoint,M.isDragging,M.animate]),F=(0,o.useMemo)((()=>{const e=M.windowInnerHeight-v.panAreaHeight,t=M.moveInitialPoint+M.heightIncrement-v.panAreaHeight;return M.isDragging||M.animate?e:t}),[M.moveInitialPoint,M.isDragging,M.animate]),R=M.isDragging||M.animate?M.windowInnerHeight-(M.moveInitialPoint+M.heightIncrement):0;(0,o.useEffect)((()=>{const e=function(e,t){switch(e){case r.Collapsed:return g[r.Collapsed].position;case r.Medium:return f(g[r.Medium].position,document.documentElement.clientHeight);case r.Full:const e=t?.offsetHeight;return void 0===e?0:k(document.documentElement.clientHeight,e+v.panAreaHeight+v.controlsContentHeight)}}(B,O.current);A(T(e))}),[B]),(0,o.useEffect)((()=>{const e=(0,d.ensureNotNull)(H.current),t=new a(e);return t.get("pan").set({direction:Hammer.DIRECTION_VERTICAL}),t.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL,threshold:v.swipeDistanceThreshold,velocity:v.swipeVelocityThreshold}),x||(t.on("panend",(()=>{A((e=>{if(e.isSwiped)return{...e,isSwiped:!1,isDragging:!1};const t={...e,isDragging:!1},n=f(g[r.Collapsed].descendingBreakPoint,e.windowInnerHeight),o=f(g[r.Full].ascendingBreakPoint,e.windowInnerHeight),a=e.moveInitialPoint+e.heightIncrement;let i={};return i=a<n?C(e):a>o?S(e,O):function(e,t){
const n=e.heightIncrement+e.moveInitialPoint,r=(t.current?.offsetHeight??0)+v.panAreaHeight;if(r<n)return w(e,r);const o=k(e.windowInnerHeight,n);return{moveInitialPoint:o,heightIncrement:y(e,0),opacity:E(e.windowInnerHeight,o)}}(e,O),{...t,...i}}))})),t.on("pan",(e=>{A((t=>{if(t.isSwiped)return t;const n=y(t,-e.deltaY);return{...t,isDragging:!0,heightIncrement:n,opacity:E(t.windowInnerHeight,n+t.moveInitialPoint)}}))}))),P||t.on("swipe",(e=>{Math.abs(e.velocityY)<v.swipeVelocityThreshold||A((t=>{const n={...t,isSwiped:!0};let o={};const a=e.direction===Hammer.DIRECTION_UP,i=e.direction===Hammer.DIRECTION_DOWN,l=t.moveInitialPoint+t.heightIncrement,s=l<f(g[r.Medium].ascendingBreakPoint,t.windowInnerHeight),c=l<f(g[r.Medium].descendingBreakPoint,t.windowInnerHeight);return a?o=s?I(t,O):S(t,O):i&&(o=c?C(t):I(t,O)),{...n,...o}}))})),()=>{t.off("panend"),x||t.off("pan"),P||t.off("swipe"),t.destroy()}}),[]),(0,o.useEffect)((()=>{function e(){A((e=>{const t=e.moveInitialPoint+e.heightIncrement<=g[r.Collapsed].position,n=document.documentElement.clientHeight/e.windowInnerHeight,o=Math.round(e.moveInitialPoint*n);return{...e,windowInnerHeight:document.documentElement.clientHeight,windowInnerWidth:document.documentElement.clientWidth,moveInitialPoint:t?e.moveInitialPoint:k(document.documentElement.clientHeight,o)}}))}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,o.useEffect)((()=>{if(!M.animate)return;const e=window.setTimeout((()=>{A((e=>({...e,animate:!1})))}),v.animationTiming);return()=>{window.clearTimeout(e)}}),[M.animate]);const $=100-100*M.opacity,q=(0,s.isOnMobileAppPage)("any")&&L===c.StdTheme.Dark?"color-black":"color-bg-primary",G={"--resizable-drawer-height":F,"--resizable-drawer-opacity":M.opacity,"--resizable-drawer-animate":M.animate?1:0,"--resizeable-drawer-drawer-closed-height":g[r.Collapsed].position,"--resizeable-drawer-animation-timing":v.animationTiming,"--resizeable-drawer-pan-area-height":v.panAreaHeight,"--resizeable-drawer-pan-area-invisible-height":v.panAreaInvisibleHeight,"--resizable-drawer-translate-y":R,"--controls-content-height":v.controlsContentHeight+"px","--resizable-drawer-bg":(0,m.generateColor)(u.themes[L].getThemedColor(q),$)};return o.createElement("div",null,o.createElement("div",{className:l()(b.drawer),style:G},o.createElement("div",{className:l()(b.rootWrapper,M.animate&&b.animate),ref:N},o.createElement("div",{className:l()(b.panAreaWrapperStyle,M.animate&&b.animate)},o.createElement("div",{className:b.panAreaStyle,ref:H},i&&o.createElement("div",{className:l()(b.controlsWrapper,M.animate&&b.animate)},o.createElement("div",{className:b.controlsContent},i))),o.createElement("div",{className:b.panTile})),o.createElement("div",{className:l()(b.drawerWrapperStyle,M.animate&&b.animate,D&&b.scroll,!D&&b.hidden)},n&&o.createElement("div",{className:b.closedContentStyle},n),o.createElement("div",{className:b.mainContentStyle,ref:O},t)))))}},209185:(e,t,n)=>{"use strict";n.d(t,{isObservable:()=>a});var r=n(26722),o=n(38323);function a(e){
return!!e&&(e instanceof r.Observable||(0,o.isFunction)(e.lift)&&(0,o.isFunction)(e.subscribe))}},608636:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="currentColor" d="M5.18 6.6L1.3 2.7.6 2 2 .59l.7.7 3.9 3.9 3.89-3.9.7-.7L12.61 2l-.71.7L8 6.6l3.89 3.89.7.7-1.4 1.42-.71-.71L6.58 8 2.72 11.9l-.71.7-1.41-1.4.7-.71 3.9-3.9z"/></svg>'}}]);