(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[3596],{909702:(e,t,i)=>{"use strict";i.d(t,{alertSounds:()=>h,enableAlertSoundsForMobile:()=>P,onStopped:()=>y,play:()=>v,stop:()=>g});var o=i(609838),n=i(69111),r=i(671945),l=i(963632);const a=i.p+"alarm_clock.6f8cd36a9014a21689b4.mp3";var s;!function(e){e.Classic="classic",e.Soft="soft",e.Nature="nature",e.Voices="voices",e.Funny="funny"}(s||(s={}));const c=(0,r.getLogger)("Lib.Sound",{color:"#dea433"}),d={sound:"notification/notification",alert:"alert/fired"},u=[{title:o.t(null,void 0,i(510526)),path:"alert/alarm_clock",soundForAlerts:!0,filePath:a,group:s.Classic}];const p={};function h(){return u.filter((e=>!!e.soundForAlerts&&e.group===s.Classic))}function v(e=d.sound,t,i){if((0,n.isOnMobileAppPage)("any"))return Promise.resolve();c.logNormal(`Sound play attempt for "${e}" duration-${t||0}s;`);return b(e).play(t,i)}function g(e,t=!1){if((0,n.isOnMobileAppPage)("any"))return;let i=[];e?i.push(b(e)):i=Object.values(p),i.forEach((e=>{e.stop(t)}))}function y(e,t){(0,n.isOnMobileAppPage)("any")||b(e).playing.subscribe((e=>{e||t()}),{once:!0})}function P(){f(h().map((e=>e.path)))}function f(e){if((0,n.isOnMobileAppPage)("any"))return;if(!e)return;if(!/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(window.navigator.userAgent))return;if(Array.isArray(e)||(e=[e]),0===(e=e.filter((e=>{const t=b(e);return!(!t||!t.el.load||t._mobilePreloadActive)&&(t._mobilePreloadActive=!0,!0)}))).length)return void c.logNormal("enableForMobile no sounds passed");const t=()=>{const o=[];Array.isArray(e)&&e.forEach((e=>{const t=b(e);t.el.load();const i=t.play().catch((e=>{if("AbortError"!==e.name)throw c.logError(`enableForMobile for "${t.el.src}" preload error: - ${e.message}`),e}));t.el.pause(),o.push(i)})),Promise.all(o).then((()=>{c.logNormal("enableForMobile sounds initialized")})),i.forEach((e=>{document.removeEventListener(e,t,!0)}))},i=["click","touchend","keydown"];i.forEach((e=>{document.addEventListener(e,t,!0)}))}const b=e=>{if(e in p)return p[e];c.logNormal(`requested sound  ${e} not cached, building a new audio element`);const t=u.find((t=>t.path===e));if(void 0===t)throw new Error(`Cannot find sound "${e}"`);const i=new Audio(t.filePath),o=new l.WatchedValue(t.soundForAlerts?.5:1);let n=o;const r=()=>{i.volume=n.value(),c.logNormal(`Volume for sound ${e} is set to ${i.volume}`)},a=()=>{n.unsubscribe(r),n=o,r()};r();const s={el:i,playing:new l.WatchedValue(!1),play:(t=0,i)=>s.playing.value()?(c.logNormal("sound already playing"),Promise.reject("already playing")):(s.playing.setValue(!0),new Promise(((o,l)=>{let a=t>0;const d=()=>{const t=function(e){try{c.logNormal(`"${e.el.src}" triggering html5 play method, readyState - ${e.el.readyState}; muted - ${e.el.muted}; volume - ${e.el.volume}; currentTime - ${e.el.currentTime}`);let t=e.el.play();return t||(t=Promise.resolve()),t}catch(t){return c.logError(`play method for "${e.el.src}" catch error - ${t.message}`),Promise.reject(t)}}(s);t.catch((t=>{
c.logNormal(`stop counting sound "${e}"; as playing due to an error: ${t.message}`),s.stop(),l(t)}))};s._onEnded=()=>{a?d():(s.stop(),o())},s.el.addEventListener("ended",s._onEnded),a&&setTimeout((()=>{c.logNormal(`"${e}" repeat timeout - ${t}s off`),a=!1}),1e3*t),i&&(e=>{n.unsubscribe(r),n=e,n.subscribe(r),r()})(i),d()})).finally(a)),stop:(e=!1)=>{s.el.pause(),e&&(s.el.currentTime=0),s.playing.setValue(!1),s._onEnded&&s.el.removeEventListener("ended",s._onEnded)}};p[e]=s;return["canplaythrough","error"].forEach((t=>{i.addEventListener(t,(()=>{c.logNormal(`for sound "${e}", event - ${t} is fired`)}),!1)})),c.logNormal(`canPlayType - ${i.canPlayType("audio/mp3")}`),p[e]};f(u.filter((e=>!!e.common)).map((e=>e.path)))},969214:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ChartPropertyDefinitionsViewModel:()=>Go});var o=i(650151),n=i(609838),r=i(534934),l=i(917053),a=i(765296),s=i(963632),c=i(59668),d=i(773125),u=i(38184),p=i(603061),h=i(233462),v=i(115032),g=i(514681),y=i(754617),P=i(241075),f=i(958933),b=i(90461),m=i(219847),w=i(780284);const T=new y.TranslatedString("change symbol description visibility",n.t(null,void 0,i(288167))),D=new y.TranslatedString("change symbol legend format",n.t(null,void 0,i(300902))),S=new y.TranslatedString("change open market status visibility",n.t(null,void 0,i(196227))),C=new y.TranslatedString("change chart values visibility",n.t(null,void 0,i(479637))),k=new y.TranslatedString("change last day change visibility",n.t(null,void 0,i(66307))),L=new y.TranslatedString("change bar change visibility",n.t(null,void 0,i(927426))),_=new y.TranslatedString("change bar change up color",n.t(null,void 0,i(630196))),V=new y.TranslatedString("change bar change down color",n.t(null,void 0,i(814201))),O=new y.TranslatedString("change use custom bar change colors",n.t(null,void 0,i(128142))),E=new y.TranslatedString("change indicator inputs visibility",n.t(null,void 0,i(775663))),R=new y.TranslatedString("change indicator titles visibility",n.t(null,void 0,i(463050))),W=new y.TranslatedString("change indicator values visibility",n.t(null,void 0,i(749583))),A=new y.TranslatedString("change legend background visibility",n.t(null,void 0,i(514246))),M=new y.TranslatedString("change legend background transparency",n.t(null,void 0,i(391873))),x=new y.TranslatedString("change volume values visibility",n.t(null,void 0,i(796201))),G=new y.TranslatedString("change symbol field visibility",n.t(null,void 0,i(412050))),N=n.t(null,void 0,i(314876)),F=n.t(null,void 0,i(570198)),I=n.t(null,void 0,i(845639)),B=n.t(null,void 0,i(672423)),H=n.t(null,void 0,i(810842)),Z=n.t(null,void 0,i(870817)),j=n.t(null,void 0,i(937644)),$=n.t(null,void 0,i(429854)),z=n.t(null,void 0,i(321429)),U=n.t(null,void 0,i(660092)),K=n.t(null,void 0,i(379468)),J=n.t(null,void 0,i(825765)),q=n.t(null,void 0,i(384684)),Q=r.enabled("symbol_info_price_source"),Y=r.enabled("show_symbol_logos")&&r.enabled("show_symbol_logo_in_legend"),X=r.enabled("legend_bar_change_colors_based_on_value");var ee=i(41140),te=i(901146),ie=i(707211),oe=i(875552),ne=i(758108)
;const re=new y.TranslatedString("change symbol labels visibility",n.t(null,void 0,i(147074))),le=new y.TranslatedString("change symbol last value visibility",n.t(null,void 0,i(467453))),ae=new y.TranslatedString("change symbol last value mode",n.t(null,void 0,i(746066))),se=new y.TranslatedString("change bid and ask labels visibility",n.t(null,void 0,i(669362))),ce=new y.TranslatedString("change bid and ask lines visibility",n.t(null,void 0,i(952919))),de=new y.TranslatedString("change bid line color",n.t(null,void 0,i(517919))),ue=new y.TranslatedString("change ask line color",n.t(null,void 0,i(298407))),pe=new y.TranslatedString("change pre/post market price label visibility",n.t(null,void 0,i(530870))),he=new y.TranslatedString("change pre/post market price lines visibility",n.t(null,void 0,i(791978))),ve=new y.TranslatedString("change pre market line color",n.t(null,void 0,i(96114))),ge=new y.TranslatedString("change post market line color",n.t(null,void 0,i(628075))),ye=new y.TranslatedString("change high and low price labels visibility",n.t(null,void 0,i(524226))),Pe=new y.TranslatedString("change high and low price lines visibility",n.t(null,void 0,i(180692))),fe=new y.TranslatedString("change high and low price line color",n.t(null,void 0,i(361407))),be=new y.TranslatedString("change high and low price line width",n.t(null,void 0,i(239581))),me=(new y.TranslatedString("change indicators and financials name labels visibility",n.t(null,void 0,i(735111))),new y.TranslatedString("change indicators name labels visibility",n.t(null,void 0,i(824893)))),we=(new y.TranslatedString("change indicators and financials value labels visibility",n.t(null,void 0,i(171161))),
new y.TranslatedString("change indicators value labels visibility",n.t(null,void 0,i(64729)))),Te=new y.TranslatedString("change no overlapping labels",n.t(null,void 0,i(561557))),De=new y.TranslatedString("change countdown to bar close visibility",n.t(null,void 0,i(839383))),Se=new y.TranslatedString("change currency label visibility",n.t(null,void 0,i(264003))),Ce=new y.TranslatedString("change scale modes buttons visibility",n.t(null,void 0,i(69023))),ke=new y.TranslatedString("change unit label visibility",n.t(null,void 0,i(551250))),Le=new y.TranslatedString("change currency and unit labels visibility",n.t(null,void 0,i(963119))),_e=new y.TranslatedString("change plus button visibility",n.t(null,void 0,i(796379))),Ve=new y.TranslatedString("toggle lock scale",n.t(null,void 0,i(949695))),Oe=new y.TranslatedString("change price to bar ratio",n.t(null,void 0,i(702509))),Ee=new y.TranslatedString("change date format",n.t(null,void 0,i(643109))),Re=new y.TranslatedString("change time hours format",n.t(null,void 0,i(439754))),We=new y.TranslatedString("change day of week on labels",n.t(null,void 0,i(730418))),Ae=new y.TranslatedString("change save chart left edge position when changing interval",n.t(null,void 0,i(677408))),Me=new y.TranslatedString("change price line visibility",n.t(null,void 0,i(108662))),xe=new y.TranslatedString("change price line color",n.t(null,void 0,i(787861))),Ge=new y.TranslatedString("change price line width",n.t(null,void 0,i(429353))),Ne=new y.TranslatedString("change average close price label visibility",n.t(null,void 0,i(876852))),Fe=new y.TranslatedString("change average close price line visibility",n.t(null,void 0,i(1022))),Ie=new y.TranslatedString("change average close price line color",n.t(null,void 0,i(947026))),Be=new y.TranslatedString("change average close price line width",n.t(null,void 0,i(143231))),He=new y.TranslatedString("change previous close price line visibility",n.t(null,void 0,i(958419))),Ze=new y.TranslatedString("change previous close price line color",n.t(null,void 0,i(569814))),je=new y.TranslatedString("change previous close price line width",n.t(null,void 0,i(613660))),$e=new y.TranslatedString("change symbol previous close value visibility",n.t(null,void 0,i(904729))),ze=n.t(null,void 0,i(399709)),Ue=n.t(null,void 0,i(351514)),Ke=n.t(null,void 0,i(903554)),Je=n.t(null,void 0,i(658589)),qe=n.t(null,void 0,i(362142)),Qe=n.t(null,void 0,i(595481)),Ye=n.t(null,void 0,i(968650)),Xe=n.t(null,void 0,i(683811)),et=n.t(null,void 0,i(878082)),tt=n.t(null,void 0,i(960904)),it=n.t(null,void 0,i(614180)),ot=n.t(null,void 0,i(76473)),nt=n.t(null,void 0,i(583140)),rt=n.t(null,void 0,i(381849)),lt=n.t(null,void 0,i(726204)),at=n.t(null,void 0,i(33564)),st=n.t(null,void 0,i(3015)),ct=n.t(null,void 0,i(371566)),dt=n.t(null,void 0,i(230042)),ut=n.t(null,void 0,i(314017)),pt=n.t(null,void 0,i(935082)),ht=n.t(null,void 0,i(584838)),vt=n.t(null,void 0,i(205591)),gt=n.t(null,void 0,i(893965)),yt=n.t(null,void 0,i(542357)),Pt=n.t(null,void 0,i(408852)),ft=r.enabled("show_average_close_price_line_and_label"),bt=[{
value:ee.PriceAxisLastValueMode.LastPriceAndPercentageValue,title:n.t(null,void 0,i(827632))},{value:ee.PriceAxisLastValueMode.LastValueAccordingToScale,title:n.t(null,void 0,i(731218))}];var mt=i(144421),wt=i(211083),Tt=i(324916),Dt=i(71087);const St=new y.TranslatedString("change sessions breaks visibility",n.t(null,void 0,i(360067))),Ct=new y.TranslatedString("change sessions breaks color",n.t(null,void 0,i(633895))),kt=new y.TranslatedString("change sessions breaks width",n.t(null,void 0,i(728175))),Lt=new y.TranslatedString("change sessions breaks style",n.t(null,void 0,i(621641))),_t=n.t(null,void 0,i(366707));var Vt=i(66673);const Ot=new y.TranslatedString("change chart background color",n.t(null,void 0,i(42803))),Et=new y.TranslatedString("change chart background type",n.t(null,void 0,i(641382))),Rt=new y.TranslatedString("change vert grid lines color",n.t(null,void 0,i(771805))),Wt=new y.TranslatedString("change horz grid lines color",n.t(null,void 0,i(221133))),At=new y.TranslatedString("change grid lines visibility",n.t(null,void 0,i(173844))),Mt=new y.TranslatedString("change scales text color",n.t(null,void 0,i(976131))),xt=new y.TranslatedString("change scales font size",n.t(null,void 0,i(927792))),Gt=new y.TranslatedString("change scales lines color",n.t(null,void 0,i(194997))),Nt=new y.TranslatedString("change pane separators color",n.t(null,void 0,i(152203))),Ft=new y.TranslatedString("change crosshair color",n.t(null,void 0,i(192885))),It=new y.TranslatedString("change crosshair width",n.t(null,void 0,i(250544))),Bt=new y.TranslatedString("change crosshair style",n.t(null,void 0,i(868418))),Ht=new y.TranslatedString("change symbol watermark visibility",n.t(null,void 0,i(573227))),Zt=new y.TranslatedString("change symbol ticker watermark visibility",n.t(null,void 0,i(218099))),jt=new y.TranslatedString("change interval watermark visibility",n.t(null,void 0,i(500451))),$t=new y.TranslatedString("change symbol description watermark visibility",n.t(null,void 0,i(265838))),zt=(new y.TranslatedString("change replay watermark visibility",n.t(null,void 0,i(666021))),
new y.TranslatedString("change symbol watermark color",n.t(null,void 0,i(878995)))),Ut=new y.TranslatedString("change navigation buttons visibility",n.t(null,void 0,i(503311))),Kt=new y.TranslatedString("change pane buttons visibility",n.t(null,void 0,i(718378))),Jt=new y.TranslatedString("change top margin",n.t(null,void 0,i(674883))),qt=new y.TranslatedString("change bottom margin",n.t(null,void 0,i(532094))),Qt=new y.TranslatedString("change right margin",n.t(null,void 0,i(82946))),Yt=new y.TranslatedString("change right margin percentage",n.t(null,void 0,i(579545))),Xt=n.t(null,void 0,i(379468)),ei=n.t(null,void 0,i(683594)),ti=n.t(null,void 0,i(808402)),ii=n.t(null,void 0,i(761900)),oi=n.t(null,void 0,i(260798)),ni=n.t(null,void 0,i(968662)),ri=n.t(null,void 0,i(770320)),li=n.t(null,void 0,i(156982)),ai=n.t(null,void 0,i(682894)),si=n.t(null,void 0,i(374622)),ci=n.t(null,void 0,i(241571)),di=n.t(null,void 0,i(851019)),ui=n.t(null,void 0,i(253263)),pi=n.t(null,void 0,i(697118)),hi=n.t(null,void 0,i(327567)),vi=n.t(null,void 0,i(50421)),gi=n.t(null,void 0,i(586235)),yi=n.t(null,void 0,i(527377)),Pi=n.t(null,{context:"unit"},i(480587));async function fi(e,t,o,l,a,d,u,p,h,v){const g=[],y=[],P=[],f=[],m=[],T=(0,c.createColorPropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,t.background,null,Ot),gradientColor1:(0,c.getColorDefinitionProperty)(e,t.backgroundGradientStartColor,null,Ot),gradientColor2:(0,c.getColorDefinitionProperty)(e,t.backgroundGradientEndColor,null,Ot),type:(0,c.convertToDefinitionProperty)(e,t.backgroundType,Et)},{id:"chartBackground",title:Xt,noAlpha:!0}),D=t.vertGridProperties.childs(),S=t.horzGridProperties.childs(),C=(0,c.createOptionalTwoColorsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,t.gridLinesMode,At),color1:(0,c.getColorDefinitionProperty)(e,D.color,null,Rt),color2:(0,c.getColorDefinitionProperty)(e,S.color,null,Wt)},{id:"gridLines",title:ni,options:new s.WatchedValue([{title:ei,value:"both"},{title:ti,value:"vert"},{title:ii,value:"horz"},{title:oi,value:"none"}]),color1Visible:v.vertLinesVisible,color2Visible:v.horzLinesVisible}),k=(0,b.createWVFromGetterAndSubscription)((()=>1!==e.model().panes().length),e.model().panesCollectionChanged()),L=(0,c.createLinePropertyDefinition)({visible:(0,c.convertFromReadonlyWVToDefinitionProperty)(k.ownership()),color:(0,c.getColorDefinitionProperty)(e,t.separatorColor,null,Nt)},{id:"paneSeparators",title:ai}),_=t.crossHairProperties.childs(),V=(0,c.createLinePropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,_.color,_.transparency,Ft),width:(0,c.convertToDefinitionProperty)(e,_.width,It),style:(0,c.convertToDefinitionProperty)(e,_.style,Bt)},{id:"crossHair",title:si});g.push(T,C);{const t=function(e){const t=e.model().sessions().properties().childs().sessionHighlight.childs().vertlines.childs().sessBreaks.childs(),i=(0,wt.combineProperty)((e=>!e),e.mainSeries().isDWMProperty().weakReference());return(0,Dt.createLinePropertyDefinition)({visible:(0,Tt.makeProxyDefinitionProperty)(i.ownership()),checked:(0,
c.convertToDefinitionProperty)(e,t.visible,St),color:(0,c.getColorDefinitionProperty)(e,t.color,null,Ct),width:(0,c.convertToDefinitionProperty)(e,t.width,kt),style:(0,c.convertToDefinitionProperty)(e,t.style,Lt)},{id:"sessionBeaks",title:_t})}(e);g.push(t)}if(g.push(L,V),null!==o){const t=(0,w.combine)((e=>null===e),e.model().watermarkContentProvider().weakReference()),r=[(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,o.ticker,Zt)},{id:"watermarkTicker",title:n.t(null,void 0,i(905791)),notFormatedTitle:!0}),(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,o.interval,jt)},{id:"watermarkInterval",title:n.t(null,void 0,i(317854)),notFormatedTitle:!0}),(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,o.description,$t)},{id:"watermarkDescription",title:n.t(null,void 0,i(178734)),notFormatedTitle:!0}),null].filter(mt.notNull),l=(0,c.createPropertyDefinitionsCheckableListOptionsGroup)(r,void 0,[(0,c.createColorPropertyDefinition)({color:(0,Vt.getStdColorDefinitionProperty)(e,o.color,e.model().backgroundTheme().weakReference(),zt)},{id:"watermarkColor"})],"watermark",ci,t);g.push(l);const a=(0,w.combine)((e=>null!==e),e.model().watermarkContentProvider().weakReference()),s=(0,c.createColorPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,o.custom,Ht),color:(0,Vt.getStdColorDefinitionProperty)(e,o.color,e.model().backgroundTheme().weakReference(),zt),visible:(0,c.convertFromReadonlyWVToDefinitionProperty)(a.ownership())},{id:"customWatermark",title:ci});g.push(s)}const O=(0,c.createTextPropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,l.textColor,null,Mt),size:(0,c.convertToDefinitionProperty)(e,l.fontSize,xt)},{id:"scalesText",title:ri}),E=(0,c.createLinePropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,l.lineColor,null,Gt)},{id:"scalesLine",title:li});y.push(O,E);const R=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,d.property,Ut)},{id:"navButtons",title:di,options:new s.WatchedValue(d.values)}),W=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,u.property,Kt)},{id:"paneButtons",title:ui,options:new s.WatchedValue(u.values)});P.push(R,W);const A=(0,c.createNumberPropertyDefinition)({value:(0,c.convertToDefinitionProperty)(e,t.topMargin,Jt,[te.floor])},{type:0,id:"paneTopMargin",title:pi,min:new s.WatchedValue(0),max:new s.WatchedValue(25),step:new s.WatchedValue(1),unit:new s.WatchedValue("%")}),M=(0,c.createNumberPropertyDefinition)({value:(0,c.convertToDefinitionProperty)(e,t.bottomMargin,qt,[te.floor])},{type:0,id:"paneBottomMargin",title:hi,min:new s.WatchedValue(0),max:new s.WatchedValue(25),step:new s.WatchedValue(1),unit:new s.WatchedValue("%")});if(f.push(A,M),r.enabled("chart_property_page_right_margin_editor")){const t={value:(0,c.convertFromWVToDefinitionProperty)(e,a.value,Qt,[te.floor])},i={type:0,id:"paneRightMargin",title:vi,min:a.min,max:a.max,step:new s.WatchedValue(1),
unit:new s.WatchedValue(Pi)};if(r.enabled("show_percent_option_for_right_margin")){const o=(0,c.createNumberPropertyDefinition)({...t,checked:(0,c.convertFromWVToDefinitionProperty)(e,h,Yt,[e=>!e,e=>!e])},{...i,title:yi}),n=(0,c.createNumberPropertyDefinition)({checked:(0,c.convertFromWVToDefinitionProperty)(e,h,Yt),value:(0,c.convertFromWVToDefinitionProperty)(e,p,Yt,[te.floor])},{type:0,id:"paneRightMarginPercentage",title:gi,min:new s.WatchedValue(0),max:new s.WatchedValue(99),step:new s.WatchedValue(1),unit:new s.WatchedValue("%")});m.push(o),m.push(n)}else{const e=(0,c.createNumberPropertyDefinition)(t,i);f.push(e)}}const x=[(0,c.createPropertyDefinitionsGeneralGroup)(g,"chartBasicStylesAppearanceGroup",n.t(null,void 0,i(815153))),(0,c.createPropertyDefinitionsGeneralGroup)(y,"scalesAppearanceGroup",n.t(null,void 0,i(693968))),(0,c.createPropertyDefinitionsGeneralGroup)(P,"buttonsAppearanceGroup",n.t(null,void 0,i(332744))),(0,c.createPropertyDefinitionsGeneralGroup)(f,"marginsAppearanceGroup",n.t(null,void 0,i(570937)))];return m.length>0&&x.push((0,c.createPropertyDefinitionsGeneralGroup)(m,"rightMarginsAppearanceGroup",n.t(null,void 0,i(562532)))),{definitions:x}}var bi=i(25474),mi=i(45080),wi=i(101297),Ti=i(488736),Di=i(959394);function Si(e,t){return{propType:"checkableWithDescription",properties:e,notFormatedTitle:!1,...t}}var Ci=i(653788),ki=i(383326);const Li=n.t(null,void 0,i(550913));var _i=i(909702);const Vi="ontouchstart"in window||navigator.maxTouchPoints>0,Oi=new y.TranslatedString("change brackets PL visibility",n.t(null,void 0,i(825133))),Ei=new y.TranslatedString("change brackets PL display mode",n.t(null,void 0,i(767967))),Ri=new y.TranslatedString("change positions PL visibility",n.t(null,void 0,i(237145))),Wi=new y.TranslatedString("change positions PL display mode",n.t(null,void 0,i(13796))),Ai=new y.TranslatedString("change reverse button visibility",n.t(null,void 0,i(97489))),Mi=new y.TranslatedString("change order confirmation state",n.t(null,void 0,i(178204))),xi=new y.TranslatedString("change play sound on order execution",n.t(null,void 0,i(898093))),Gi=new y.TranslatedString("change notifications state",n.t(null,void 0,i(273925))),Ni=new y.TranslatedString("change positions visibility",n.t(null,void 0,i(651557))),Fi=new y.TranslatedString("change orders visibility",n.t(null,void 0,i(378980))),Ii=new y.TranslatedString("change positions and orders visibility",n.t(null,void 0,i(11599))),Bi=new y.TranslatedString("change executions visibility",n.t(null,void 0,i(888984))),Hi=new y.TranslatedString("change extend lines left",n.t(null,void 0,i(100249))),Zi=new y.TranslatedString("change position trading objects on chart",n.t(null,void 0,i(802583))),ji=(new y.TranslatedString("change trading objects visibility on screenshots",n.t(null,void 0,i(551336))),
new y.TranslatedString("change executions labels visibility",n.t(null,void 0,i(125842)))),$i=n.t(null,void 0,i(487978)),zi=n.t(null,void 0,i(102714)),Ui=n.t(null,void 0,i(954759)),Ki=n.t(null,void 0,i(405549)),Ji=Vi?n.t(null,void 0,i(383129)):n.t(null,void 0,i(680344)),qi=n.t(null,void 0,i(556367)),Qi=(n.t(null,void 0,i(883123)),n.t(null,void 0,i(256143))),Yi=(n.t(null,void 0,i(233691)),n.t(null,void 0,i(91783))),Xi=n.t(null,void 0,i(267539)),eo=n.t(null,void 0,i(204858)),to=n.t(null,void 0,i(824916)),io=n.t(null,void 0,i(411626)),oo=n.t(null,void 0,i(224197)),no=n.t(null,void 0,i(50421)),ro=n.t(null,void 0,i(548342)),lo=n.t(null,void 0,i(528147)),ao=(n.t(null,void 0,i(856861)),n.t(null,void 0,i(75237))),so=(n.t(null,void 0,i(137406)),n.t(null,void 0,i(98984)),n.t(null,void 0,i(783332)),n.t(null,void 0,i(762941)),[{value:l.TradedGroupHorizontalAlignment.Left,title:io},{value:l.TradedGroupHorizontalAlignment.Center,title:oo},{value:l.TradedGroupHorizontalAlignment.Right,title:no}]);(0,_i.alertSounds)().map((e=>({value:e.path,title:e.title})));function co(e,t,o){const l=[],a=function(e,t){if(null===t||!r.enabled("buy_sell_buttons"))return null;const o=e.mainSeries().dataEvents(),l=(0,b.createWVFromGetterAndSubscriptions)((()=>"economic"===e.mainSeries().symbolInfo()?.type),[o.symbolResolved(),o.symbolError()]);return Si({disabled:(0,c.convertFromReadonlyWVToDefinitionProperty)(l.ownership()),checked:(0,c.convertToDefinitionProperty)(e,(0,Ci.getBuySellButtonsVisibility)(e.model()),ki.undoShowBuySellButtonsVisibility)},{id:"tradingSellBuyPanel",title:Li,infoTooltip:n.t(null,void 0,i(880848))})}(e,o,e.model().properties());return null!==a&&l.push(a),l.push(function(e,t){return(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertFromWVToDefinitionProperty)(e,t.noConfirmEnabled,Mi)},{id:"tradingConfirmEnabled",title:Ji,solutionId:void 0})}(e,o)),l.push((0,c.createCheckablePropertyDefinition)({checked:(0,c.convertFromWVToDefinitionProperty)(e,o.orderExecutedSoundParams.enabled,xi)},{id:"tradingSoundEnabled",title:Qi})),l.push(function(e,t){return(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertFromWVToDefinitionProperty)(e,t.showOnlyRejectionNotifications,Gi)},{id:"tradingNotifications",title:qi})}(e,o)),(0,c.createPropertyDefinitionsGeneralGroup)(l,"generalVisibilityGroup",ro)}function uo(e,t,i){const o=[];return o.push(function(e,t){const i=(0,b.combineProperty)(((e,t)=>e&&t),t.showPositions.weakReference(),t.showOrders.weakReference()),o=i=>{e.beginUndoMacro(Ii),e.setProperty(t.showPositions,i,Ni),e.setProperty(t.showOrders,i,Fi),e.endUndoMacro()};return(0,c.createCheckableSetPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.ownership(),Ii,void 0,o)},{id:"tradingPositionsAndOrders",title:$i,dialogContent:void 0},[po(e,t)])}(e,t)),o.push(function(e,t,i){const o=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,t.positionPL.childs().display,Wi),checked:(0,c.convertToDefinitionProperty)(e,t.positionPL.childs().visibility,Ri)},{id:"positionPL",title:Xi,
options:i}),n=(0,c.createOptionsPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.bracketsPL.childs().visibility,Oi),option:(0,c.convertToDefinitionProperty)(e,t.bracketsPL.childs().display,Ei)},{id:"bracketsPLDisplay",title:eo,options:i});return(0,c.createCheckableSetPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.positionAndBracketsPL,Ri)},{id:"positionAndBracketsPL",title:Yi,solutionId:void 0},[o,n])}(e,t,i)),o.push(function(e,t){const i=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showExecutionsLabels,ji)},{id:"tradingExecutionsLables",title:ao});return(0,c.createCheckableSetPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showExecutions,Bi)},{id:"tradingExecutions",title:Ki,dialogContent:void 0},[i])}(e,t)),o.push(function(e,t){return(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.extendLeft,Hi)},{id:"extendLeftTradingLine",title:Ui})}(e,t)),o.push(function(e,t){return(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,t.horizontalAlignment,Zi)},{id:"positionAlign",title:to,options:new s.WatchedValue(so)})}(e,t)),(0,c.createPropertyDefinitionsGeneralGroup)(o,"appearanceVisibilityGroup",lo)}function po(e,t){return Si({checked:(0,c.convertToDefinitionProperty)(e,t.showReverse,Ai)},{id:"reverseButton",title:zi,infoTooltip:n.t(null,void 0,i(397919))})}var ho=i(894862),vo=i(505170),go=i(853078),yo=i(782038),Po=i(384806),fo=i(887717),bo=i(407621),mo=i(808021),wo=i(760339),To=i(575709),Do=i(520037);const So={symbol:{bold:mo,default:go},legend:{bold:wo,default:yo},scales:{bold:To,default:Po},canvas:{bold:i(897660),default:bo},trading:{bold:Do,default:fo}};const Co=n.t(null,void 0,i(595481)),ko=n.t(null,void 0,i(928715)),Lo=n.t(null,void 0,i(990275)),_o=n.t(null,void 0,i(923739)),Vo=(n.t(null,void 0,i(69808)),n.t(null,void 0,i(276495))),Oo=(n.t(null,void 0,i(336620)),n.t(null,void 0,i(808249))),Eo=n.t(null,void 0,i(394408)),Ro=n.t(null,void 0,i(824821)),Wo=r.enabled("chart_property_page_trading");let Ao=null;function Mo(e=!1){const t=new Date(Date.UTC(1997,8,29));return mi.availableDateFormats.map((i=>({value:i,title:new Ti.DateFormatter(i,e).format(t)})))}Wo&&(Ao=(0,a.tradingService)());const xo=[{id:"symbol-text-source-description",value:"description",title:n.t(null,void 0,i(178734))},{id:"symbol-text-source-ticker",value:"ticker",title:n.t(null,void 0,i(905791))},{id:"symbol-text-source-ticker-and-description",value:"ticker-and-description",title:n.t(null,void 0,i(716816))}];r.enabled("symbol_info_long_description")&&xo.push({id:"symbol-text-source-long-description",value:"long-description",title:n.t(null,void 0,i(589315))});class Go{constructor(e,t,i){this._propertyPages=null,this._maxRightOffsetPropertyObject=null,this._defaultRightOffsetPercentageWatchedValue=null,this._useRightOffsetPercentageWatchedValue=null,this._profitLossOptions=null,this._isDestroyed=!1,this._availableDateFormatValues=null,this._undoModel=e,this._model=this._undoModel.model(),
this._series=this._model.mainSeries(),this._chartWidgetProperties=t,this._options=i,this._seriesPropertyDefinitionViewModel=this._createSeriesViewModel();const o=this._chartWidgetProperties.childs().paneProperties.childs(),n=(0,b.createWVFromProperty)(o.gridLinesMode);this._gridColorsVisibilities={gridLinesMode:n,vertLinesVisible:(0,w.combine)((e=>"both"===e||"vert"===e),n.weakReference()),horzLinesVisible:(0,w.combine)((e=>"both"===e||"horz"===e),n.weakReference())},this._legendPropertyPage=this._createLegendPropertyPage(),this._scalesPropertyPage=this._createScalesPropertyPage(),this._appearancePropertyPage=this._createAppearancePropertyPage(),this._tradingPropertyPage=this._createTradingPropertyPage(),this._eventsPropertyPage=this._createEventsPropertyPage(),this._alertsPropertyPage=this._createAlertsPropertyPage(),this._series.onStyleChanged().subscribe(this,this._updateDefinitions),this._series.priceScaleChanged().subscribe(this,this._updateDefinitions)}destroy(){null!==this._propertyPages&&this._propertyPages.filter(((e,t)=>0!==t)).forEach((e=>{(0,c.destroyDefinitions)(e.definitions.value())})),this._seriesPropertyDefinitionViewModel.destroy(),this._pipValueTypeSubscription?.unsubscribe(),this._availableDateFormatValues?.destroy(),this._series.onStyleChanged().unsubscribe(this,this._updateDefinitions),this._series.priceScaleChanged().unsubscribe(this,this._updateDefinitions);(0,o.ensureNotNull)(this._model.timeScale()).maxRightOffsetChanged().unsubscribeAll(this),this._gridColorsVisibilities.vertLinesVisible.destroy(),this._gridColorsVisibilities.horzLinesVisible.destroy(),this._gridColorsVisibilities.gridLinesMode.destroy(),this._isDestroyed=!0}async propertyPages(){if(null===this._propertyPages){const e=await this._seriesPropertyDefinitionViewModel.propertyPages();if(this._isDestroyed)throw new Error("ChartPropertyDefinitionsViewModel already destroyed");if(null===this._propertyPages){this._propertyPages=[...e],this._propertyPages.push(this._legendPropertyPage,this._scalesPropertyPage,await this._appearancePropertyPage),null!==this._tradingPropertyPage&&this._propertyPages.push(this._tradingPropertyPage);const t=await this._alertsPropertyPage;t&&this._propertyPages.push(t);const i=await this._eventsPropertyPage;i&&this._propertyPages.push(i)}return this._propertyPages}return Promise.resolve(this._propertyPages)}_updatePlDisplayOptions(e){(0,o.ensureNotNull)(this._profitLossOptions).setValue(function(e){return Wo?[{value:l.PlDisplay.Money,title:Oo},{value:l.PlDisplay.Pips,title:e===ho.PipValueType.Pips?Eo:Ro},{value:l.PlDisplay.Percentage,title:"%"}]:[]}(e))}_updateDefinitions(){(0,c.destroyDefinitions)(this._scalesPropertyPage.definitions.value());const e=this._createScalesDefinitions();this._scalesPropertyPage.definitions.setValue(e.definitions)}_createSeriesViewModel(){const e={property:this._model.properties().childs().timezone,values:vo.availableTimezones.map((e=>({value:e.id,title:e.title})))};return new v.SeriesPropertyDefinitionsViewModel(this._series,this._undoModel,"symbol",Co,(0,
o.ensureDefined)(So.symbol),e)}_createLegendPropertyPage(){const e=this._chartWidgetProperties.childs().paneProperties.childs().legendProperties.childs(),t={property:this._series.properties().childs().statusViewStyle.childs().symbolTextSource,values:xo},r=function(e,t,o,r){const l=[],a=[];if(Y){const i=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showLogo,S)},{id:"showLogo",title:N});a.push(i)}const d=(0,c.createOptionsPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showSeriesTitle,T),option:(0,c.convertToDefinitionProperty)(e,o.property,D)},{id:"symbolTextSource",title:F,options:new s.WatchedValue(o.values)});if(a.push(d),null!==r){const t=(0,w.combineWithFilteredUpdate)(((t,i)=>"market"===t&&!(0,P.isEconomicSymbol)(e.mainSeries().symbolInfo())),((e,t)=>null!==e),e.mainSeries().marketStatusModel().status().weakReference(),e.mainSeries().symbolResolvingActive().weakReference()),i=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,r,S),visible:(0,c.convertFromReadonlyWVToDefinitionProperty)(t.ownership())},{id:"showOpenMarketStatus",title:J});a.push(i)}const u=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showSeriesOHLC,C)},{id:"ohlcTitle",title:I});if(a.push(u),!f.alwaysShowLastPriceAndLastDayChange){const i=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showBarChange,L),visible:(0,c.makeProxyDefinitionProperty)((0,b.combineProperty)((e=>12!==e&&20!==e),e.mainSeries().properties().childs().style.weakReference()).ownership())},{id:"barChange",title:H});a.push(i)}if(X){const i=(0,c.createTwoColorsPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.useBarChangeCustomColors,O),color1:(0,c.getColorDefinitionProperty)(e,t.barChangeUpColor,null,_),color2:(0,c.getColorDefinitionProperty)(e,t.barChangeDownColor,null,V),visible:(0,c.makeProxyDefinitionProperty)((0,b.combineProperty)((e=>(0,P.isHLCBasedStyle)(e)||(0,P.isSingleValueBasedStyle)(e)),e.mainSeries().properties().childs().style.weakReference()).ownership())},{id:"barChangeColors",title:Z});a.push(i)}if(a.push((0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showVolume,x),visible:(0,c.makeProxyDefinitionProperty)((0,b.combineProperty)((e=>20!==e),e.mainSeries().properties().childs().style.weakReference()).ownership())},{id:"barVolume",title:j})),f.lastDayChangeAvailable||f.alwaysShowLastPriceAndLastDayChange){const i=f.alwaysShowLastPriceAndLastDayChange?t.showBarChange:t.showLastDayChange,o=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i,k),visible:(0,c.makeProxyDefinitionProperty)((0,b.combineProperty)((e=>12!==e&&20!==e),e.mainSeries().properties().childs().style.weakReference()).ownership())},{id:"lastDayChange",title:B});a.push(o)}if(Q){const i=(0,
w.combineWithFilteredUpdate)(((t,i)=>e.model().symbolSources().some((e=>void 0!==e.symbolInfo()?.price_source_id))),((e,t)=>!e),e.model().symbolSourceResolvingActive().weakReference(),(0,b.createWVFromGetterAndSubscription)((()=>e.model().symbolSources().length),e.model().symbolSourceCollectionChanged()).ownership());a.push((0,c.createCheckablePropertyDefinition)({disabled:(0,c.convertFromReadonlyWVToDefinitionProperty)(e.model().symbolSourceResolvingActive().weakReference()),checked:(0,c.convertToDefinitionProperty)(e,t.showPriceSource,G),visible:(0,c.convertFromReadonlyWVToDefinitionProperty)(i.ownership())},{id:"priceSource",title:q}))}l.push((0,c.createPropertyDefinitionsGeneralGroup)(a,"seriesLegendVisibilityGroup",n.t(null,void 0,i(595481))));const p=[],h=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showStudyArguments,E)},{id:"studyArguments",title:z}),v=(0,c.createCheckableSetPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showStudyTitles,R)},{id:"studyTitles",title:$},[h]),g=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showStudyValues,W)},{id:"studyValues",title:U}),y=(0,b.createWVFromGetterAndSubscription)((()=>e.model().priceDataSources().some((e=>!(0,m.isActingAsSymbolSource)(e)&&e.showInObjectTree()))),e.model().dataSourceCollectionChanged());p.push(v,g),l.push((0,c.createPropertyDefinitionsGeneralGroup)(p,"studiesLegendVisibilityGroup",n.t(null,void 0,i(184549)),y));const ee=[],te=(0,c.createTransparencyPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showBackground,A),transparency:(0,c.convertToDefinitionProperty)(e,t.backgroundTransparency,M)},{id:"legendBgTransparency",title:K});return ee.push(te),l.push((0,c.createPropertyDefinitionsGeneralGroup)(ee,"generalLegendGroup")),{definitions:l}}(this._undoModel,e,t,this._options.marketStatusWidgetEnabled?g.showMarketOpenStatusProperty:null);return(0,d.createPropertyPage)(r,"legend",ko,(0,o.ensureDefined)(So.legend))}_createScalesPropertyPage(){const e=this._createScalesDefinitions();return(0,d.createPropertyPage)(e,"scales",Lo,(0,o.ensureDefined)(So.scales))}_createScalesDefinitions(){const e=this._chartWidgetProperties.childs().scalesProperties.childs(),t={property:this._model.properties().childs().priceScaleSelectionStrategyName,values:(0,h.allPriceScaleSelectionStrategyInfo)().map((e=>({value:e.name,title:e.title})))};this._model.onWidget()?null===this._availableDateFormatValues&&(this._availableDateFormatValues=new s.WatchedValue(Mo()).spawn()):null===this._availableDateFormatValues&&(this._availableDateFormatValues=(0,w.combine)((e=>Mo(e)),(0,b.createWVFromProperty)(bi.withWeekdayProperty).ownership()));const o={property:Di.timeHoursFormatProperty,values:[{value:"24-hours",title:n.t(null,void 0,i(305797))},{value:"12-hours",title:n.t(null,void 0,i(231882))}]},l=this._model.mainSeriesScaleRatioProperty();return function(e,t,i,o){const n=o.seriesPriceScale.properties().childs(),l=[],a=[]
;if(o.currencyConversionEnabled||o.unitConversionEnabled){const t=o.currencyConversionEnabled&&o.unitConversionEnabled?st:o.currencyConversionEnabled?rt:at,i=o.currencyConversionEnabled&&o.unitConversionEnabled?Le:o.currencyConversionEnabled?Se:ke,n=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,(0,oe.currencyUnitVisibilityProperty)(),i)},{id:"scalesCurrencyUnit",title:t,options:new s.WatchedValue((0,oe.currencyUnitVisibilityOptions)())});a.push(n)}const d=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,(0,ne.autoLogButtonsVisibilityProperty)(),Ce)},{id:"autoLogButtonsVisibility",title:lt,options:new s.WatchedValue((0,ne.autoLogButtonsVisibilityOptions)())});a.push(d);const u=(0,c.createNumberPropertyDefinition)({checked:(0,c.getLockPriceScaleDefinitionProperty)(e,n.lockScale,o.seriesPriceScale,Ve),value:(0,c.getScaleRatioDefinitionProperty)(e,o.mainSeriesScaleRatioProperty,Oe,[(0,te.limitedPrecision)(7),e=>e])},{id:"lockScale",title:ut,min:new s.WatchedValue(o.mainSeriesScaleRatioProperty.getMinValue()),max:new s.WatchedValue(o.mainSeriesScaleRatioProperty.getMaxValue()),step:new s.WatchedValue(o.mainSeriesScaleRatioProperty.getStepChangeValue())}),p=(0,c.createOptionsPropertyDefinition)({option:(0,c.getPriceScaleSelectionStrategyDefinitionProperty)(e,o.scalesPlacementPropertyObj.property)},{id:"scalesPlacement",title:dt,options:new s.WatchedValue(o.scalesPlacementPropertyObj.values)});a.push(u,p),l.push((0,c.createPropertyDefinitionsGeneralGroup)(a,"scalesPriceScaleGroup",pt));const h=[],v=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,n.alignLabels,Te)},{id:"noOverlappingLabels",title:Je});if(h.push(v),e.crosshairSource().isMenuEnabled()){const t=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,ie.addPlusButtonProperty,_e)},{id:"addPlusButton",title:ct,solutionId:void 0});h.push(t)}if(o.countdownEnabled){const i=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showCountdown,De)},{id:"countdown",title:nt});h.push(i)}if(o.seriesHasClosePrice){const o=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showSymbolLabels,re)},{id:"symbolNameLabel",title:ze}),n=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showSeriesLastValue,le)},{id:"symbolValueLabel",title:Ue}),r=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showPriceLine,Me)},{id:"symbolLine",title:Ke}),l=(0,c.createLinePropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,t.priceLineColor,null,xe),width:(0,c.convertToDefinitionProperty)(e,t.priceLineWidth,Ge)},{id:"SymbolLastValuePriceLine",title:""}),a=(0,c.createOptionsPropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showSeriesLastValue,le),option:(0,c.convertToDefinitionProperty)(e,i.seriesLastValueMode,ae)},{id:"symbolLastValueLabel",title:Ue,options:new s.WatchedValue(bt)});h.push((0,
c.createPropertyDefinitionsCheckableListOptionsGroup)([o,n,r],void 0,[l,a],"symbolCheckableListGroup",Qe))}if(ft){const i=t.highLowAvgPrice.childs(),o=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.averageClosePriceLabelVisible,Ne)},{id:"averageClosePriceLabel",title:Ue}),n=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.averageClosePriceLineVisible,Fe)},{id:"averageCloseLine",title:Ke}),r=(0,c.createLinePropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,i.averagePriceLineColor,null,Ie),width:(0,c.convertToDefinitionProperty)(e,i.averagePriceLineWidth,Be)},{id:"averageClosePriceLine",title:""});h.push((0,c.createPropertyDefinitionsCheckableListOptionsGroup)([o,n],void 0,[r],"avgCloseCheckableListGroup",Ye))}if(o.seriesHasClosePrice){const o=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showSeriesPrevCloseValue,$e)},{id:"symbolPrevCloseValue",title:Ue}),n=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,t.showPrevClosePriceLine,He)},{id:"symbolPrevCloseLine",title:Ke}),r=(0,c.createLinePropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,t.prevClosePriceLineColor,null,Ze),width:(0,c.convertToDefinitionProperty)(e,t.prevClosePriceLineWidth,je)},{id:"prevClosePriceLine",title:""}),l=(0,w.combine)((e=>!e),(0,b.createWVFromProperty)(e.mainSeries().isDWMProperty()).ownership());h.push((0,c.createPropertyDefinitionsCheckableListOptionsGroup)([o,n],void 0,[r],"prevCloseCheckableListGroup",Xe,l))}let g,y;g=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showStudyPlotLabels,me)},{id:"studyNameLabel",title:ze}),y=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showStudyLastValue,we)},{id:"studyLastValueLabel",title:Ue});const P=(0,b.createWVFromGetterAndSubscription)((()=>e.model().priceDataSources().some((e=>!(0,m.isActingAsSymbolSource)(e)&&e.showInObjectTree()))),e.model().dataSourceCollectionChanged());if(h.push((0,c.createPropertyDefinitionsCheckableListOptionsGroup)([g,y],void 0,[],"studiesCheckableListGroup",et,P)),r.enabled("pre_post_market_price_line")){const o=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showPrePostMarketPriceLabel,pe)},{id:"prePostMarketPriceLabel",title:Ue}),n=t.prePostMarket,r=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,n.childs().visible,he)},{id:"prePostMarketPriceLine",title:Ke}),l=(0,c.createTwoColorsPropertyDefinition)({color1:(0,c.getColorDefinitionProperty)(e,n.childs().preMarketColor,null,ve),color2:(0,c.getColorDefinitionProperty)(e,n.childs().postMarketColor,null,ge)},{id:"prePostMarketColors",title:""}),a=e.model().mainSeries(),s=(0,w.combineWithFilteredUpdate)(((e,t)=>t),((e,t)=>!e),a.symbolResolvingActive().weakReference(),(0,b.createWVFromProperty)(a.isPrePostMarketPricesAvailableProperty()).ownership());h.push((0,
c.createPropertyDefinitionsCheckableListOptionsGroup)([o,r],void 0,[l],"prePostMarketCheckableListGroup",tt,s))}const f=t.highLowAvgPrice.childs(),T=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,f.highLowPriceLabelsVisible,ye)},{id:"highLowPriceLabels",title:Ue}),D=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,f.highLowPriceLinesVisible,Pe)},{id:"highLowPriceLine",title:Ke}),S=(0,c.createLinePropertyDefinition)({color:(0,c.getColorDefinitionProperty)(e,f.highLowPriceLinesColor,null,fe),width:(0,c.convertToDefinitionProperty)(e,f.highLowPriceLinesWidth,be)},{id:"highLowLineColors",title:""});if(h.push((0,c.createPropertyDefinitionsCheckableListOptionsGroup)([T,D],void 0,[S],"hiLowCheckableListGroup",it)),e.model().hasCustomSource("bidask")){const o=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,i.showBidAskLabels,se)},{id:"bidAskLabels",title:Ue}),n=t.bidAsk,r=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,n.childs().visible,ce)},{id:"bidAskLines",title:Ke}),l=(0,c.createTwoColorsPropertyDefinition)({color1:(0,c.getColorDefinitionProperty)(e,n.childs().bidLineColor,null,de),color2:(0,c.getColorDefinitionProperty)(e,n.childs().askLineColor,null,ue)},{id:"bidAskLinesColors",title:""});h.push((0,c.createPropertyDefinitionsCheckableListOptionsGroup)([o,r],void 0,[l],"bidAskCheckableListGroup",ot))}l.push((0,c.createPropertyDefinitionsGeneralGroup)(h,"scalesLabelsLineGroup",qe));const C=[];if(o.withWeekdayProperty){const t=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,o.withWeekdayProperty,We)},{id:"showWeekdayOnTimeScaleLabels",title:yt});C.push(t)}if(r.enabled("scales_date_format")){const t=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,o.dateFormatPropertyObj.property,Ee)},{id:"dateFormat",title:ht,options:o.dateFormatPropertyObj.values});C.push(t)}if(r.enabled("scales_time_hours_format")){const t=(0,c.createOptionsPropertyDefinition)({option:(0,c.convertToDefinitionProperty)(e,o.timeHoursFormatPropertyObj.property,Re)},{id:"timeHoursFormat",title:vt,options:new s.WatchedValue(o.timeHoursFormatPropertyObj.values)});C.push(t)}{const t=(0,c.createCheckablePropertyDefinition)({checked:(0,c.convertToDefinitionProperty)(e,o.saveLeftEdgeProperty,Ae)},{id:"saveLeftChartEdge",title:Pt});C.push(t)}return C.length>0&&l.push((0,c.createPropertyDefinitionsGeneralGroup)(C,"scalesTimeScaleGroup",gt)),{definitions:l}}(this._undoModel,this._series.properties().childs(),e,{disableSeriesPrevCloseValueProperty:this._series.isDWMProperty(),seriesHasClosePrice:this._series.hasClosePrice(),seriesPriceScale:this._series.priceScale(),mainSeriesScaleRatioProperty:l,scalesPlacementPropertyObj:t,dateFormatPropertyObj:{property:wi.dateFormatProperty,values:this._availableDateFormatValues},timeHoursFormatPropertyObj:o,currencyConversionEnabled:this._options.currencyConversionEnabled,
unitConversionEnabled:this._options.unitConversionEnabled,countdownEnabled:this._options.countdownEnabled,withWeekdayProperty:this._model.onWidget()?void 0:bi.withWeekdayProperty,saveLeftEdgeProperty:e.saveLeftEdge})}_createMaxOffsetPropertyObject(){const e=(0,o.ensureNotNull)(this._model.timeScale()),t=new s.WatchedValue(Math.floor(e.maxRightOffset()));e.maxRightOffsetChanged().subscribe(this,(e=>{t.setValue(Math.floor(e))})),this._maxRightOffsetPropertyObject={value:e.defaultRightOffset(),min:new s.WatchedValue(0),max:t}}_createDefaultRightOffsetPercentageWatchedValue(){const e=(0,o.ensureNotNull)(this._model.timeScale());this._defaultRightOffsetPercentageWatchedValue=e.defaultRightOffsetPercentage()}_createUseRightOffsetPercentageWatchedValue(){const e=(0,o.ensureNotNull)(this._model.timeScale());this._useRightOffsetPercentageWatchedValue=e.usePercentageRightOffset()}async _createAppearancePropertyPage(){const e=this._chartWidgetProperties.childs(),t=e.paneProperties.childs(),i=e.scalesProperties.childs(),n=this._model.watermarkSource();let r=null;null!==n&&(r=n.properties().childs());const l={property:u.property(),values:u.availableValues()},a={property:p.property(),values:p.availableValues()};null===this._maxRightOffsetPropertyObject&&this._createMaxOffsetPropertyObject(),null===this._defaultRightOffsetPercentageWatchedValue&&this._createDefaultRightOffsetPercentageWatchedValue(),null===this._useRightOffsetPercentageWatchedValue&&this._createUseRightOffsetPercentageWatchedValue();const s=(0,o.ensureNotNull)(this._maxRightOffsetPropertyObject),c=(0,o.ensureNotNull)(this._defaultRightOffsetPercentageWatchedValue),h=(0,o.ensureNotNull)(this._useRightOffsetPercentageWatchedValue),v=await fi(this._undoModel,t,r,i,s,l,a,c,h,this._gridColorsVisibilities);return(0,d.createPropertyPage)(v,"canvas",_o,(0,o.ensureDefined)(So.canvas))}_createTradingPropertyPage(){if(!Wo)return null;if(null===Ao)return null;this._profitLossOptions=new s.WatchedValue,this._pipValueTypeSubscription=Ao.pipValueType().subscribe(this._updatePlDisplayOptions.bind(this));const e=this._model.properties().childs().tradingProperties.childs(),t=function(e,t,i,o){return{definitions:[co(e,0,i),uo(e,t,o)]}}(this._undoModel,e,Ao,this._profitLossOptions);return(0,d.createPropertyPage)(t,"trading",Vo,(0,o.ensureDefined)(So.trading))}async _createEventsPropertyPage(){return null}_createAlertsPropertyPage(){return null}}},894862:(e,t,i)=>{"use strict";var o,n,r,l,a,s,c,d,u,p,h,v,g,y,P,f,b,m,w,T,D,S,C,k,L,_,V;i.d(t,{AccountType:()=>D,BracketType:()=>y,DisconnectType:()=>S,OrderOrPositionMessageType:()=>T,PipValueType:()=>C,RestrictionType:()=>k,TradingEntityType:()=>h}),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(o||(o={})),function(e){e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected",e[e.Error=4]="Error"}(n||(n={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(r||(r={})),
function(e){e[e.Limit=1]="Limit",e[e.Market=2]="Market",e[e.Stop=3]="Stop",e[e.StopLimit=4]="StopLimit"}(l||(l={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(a||(a={})),function(e){e[e.Buy=1]="Buy",e[e.Sell=-1]="Sell"}(s||(s={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(c||(c={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(d||(d={})),function(e){e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Placing=4]="Placing",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(u||(u={})),function(e){e[e.All=0]="All",e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(p||(p={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(h||(h={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(v||(v={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position",e[e.IndividualPosition=3]="IndividualPosition"}(g||(g={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop",e[e.GuaranteedStop=3]="GuaranteedStop"}(y||(y={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(P||(P={})),function(e){e[e.LimitPrice=1]="LimitPrice",e[e.StopPrice=2]="StopPrice",e[e.TakeProfit=3]="TakeProfit",e[e.StopLoss=4]="StopLoss",e[e.Quantity=5]="Quantity"}(f||(f={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(b||(b={})),function(e){e[e.Error=0]="Error",e[e.Success=1]="Success"}(m||(m={})),function(e){e[e.Demo=1]="Demo",e[e.Real=0]="Real"}(w||(w={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(T||(T={})),function(e){e.Demo="demo",e.Live="live"}(D||(D={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection",e[e.Reconnect=9]="Reconnect",e[e.FailedSignIn=10]="FailedSignIn"}(S||(S={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(C||(C={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(k||(k={})),function(e){e[e.Limit=1]="Limit",e[e.Stop=2]="Stop"}(L||(L={})),function(e){e.Disallowed="disallowed",e.Allowed="allowed",e.AllowedWithWarning="allowed_with_warning"}(_||(_={})),function(e){e.PlaceOrder="place_order",e.ModifyOrder="modify_order",e.CancelOrder="cancel_order",e.CancelMultipleOrders="cancel_multiple_orders",e.ModifyPosition="modify_position",e.ClosePosition="close_position",e.ModifyIndividualPosition="modify_individual_position",
e.CloseIndividualPosition="close_individual_position",e.CloseNetPosition="close_net_position"}(V||(V={}))},653788:(e,t,i)=>{"use strict";function o(e){return e.properties().childs().paneProperties.childs().legendProperties.childs().showTradingButtons}i.d(t,{getBuySellButtonsVisibility:()=>o})},383326:(e,t,i)=>{"use strict";i.d(t,{setBuySellButtonsVisibility:()=>a,undoShowBuySellButtonsVisibility:()=>l});var o=i(609838),n=i(754617),r=i(653788);const l=new n.TranslatedString("change buy/sell buttons visibility",o.t(null,void 0,i(605598)));function a(e,t){e.setProperty((0,r.getBuySellButtonsVisibility)(e.model()),t,l)}},808021:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M12 7h-.75V4h-1.5v3H9a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h.75v3h1.5v-3H12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1ZM9.5 19.5v-11h2v11h-2Zm8-3v-5h2v5h-2Zm.24-6.5H17a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h.75v3h1.5v-3H20a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-.76V7h-1.5v3Z"/></svg>'},897660:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-width="1.5" d="m7.5 16.5-1 1v4h4l1-1m-4-4 9-9m-9 9 4 4m0 0 9-9m-4-4 .59-.59a2 2 0 0 1 2.82 0L21.1 8.1a2 2 0 0 1 0 2.82l-.59.59m-4-4 2 2 2 2"/></svg>'},575709:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-width="1.5" d="M10.5 20.5a2 2 0 1 1-2-2m2 2a2 2 0 0 0-2-2m2 2h14m-16-2v-14m16 16L21 17m3.5 3.5L21 24M8.5 4.5 12 8M8.5 4.5 5 8"/></svg>'},760339:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M7 7.5h14a.5.5 0 0 1 0 1H7a.5.5 0 0 1 0-1ZM5 8c0-1.1.9-2 2-2h14a2 2 0 1 1 0 4H7a2 2 0 0 1-2-2Zm13 5H6v1.5h12V13ZM6 17h12v1.5H6V17Zm12 4H6v1.5h12V21Z"/></svg>'},520037:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="m17.53 15.08.45.33.44-.33 6.65-4.92a2.3 2.3 0 0 0 .42-3.3 2.35 2.35 0 0 0-3.23-.4l-4.28 3.18-4.29-3.18a2.35 2.35 0 0 0-3.22.4 2.3 2.3 0 0 0 .42 3.3l6.64 4.92Zm6.64-6.1-6.2 4.59-6.19-4.6a.83.83 0 0 1-.15-1.18.85.85 0 0 1 1.17-.15l4.73 3.51.45.33.44-.33 4.74-3.5a.85.85 0 0 1 1.16.14c.3.37.23.9-.15 1.19Zm-13.7 3.94-.45-.33-.44.33-6.65 4.92a2.3 2.3 0 0 0-.42 3.3 2.35 2.35 0 0 0 3.23.4l4.28-3.18 4.29 3.18c1 .75 2.44.57 3.22-.4a2.3 2.3 0 0 0-.42-3.3l-6.64-4.92Zm-6.64 6.1 6.2-4.59 6.19 4.6c.38.27.45.81.15 1.18a.85.85 0 0 1-1.17.15l-4.73-3.51-.45-.33-.44.33-4.74 3.5a.85.85 0 0 1-1.16-.14.83.83 0 0 1 .15-1.19Z"/></svg>'},853078:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M11 4h-1v3H8.5a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5H10v3h1v-3h1.5a.5.5 0 0 0 .5-.5v-13a.5.5 0 0 0-.5-.5H11V4ZM9 8v12h3V8H9Zm10-1h-1v3h-1.5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5H18v3h1v-3h1.5a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5H19V7Zm-2 10v-6h3v6h-3Z"/></svg>'},407621:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M16.73 6.56a2.5 2.5 0 0 1 3.54 0l1.17 1.17a2.5 2.5 0 0 1 0 3.54l-.59.58-9 9-1 1-.14.15H6v-4.7l.15-.15 1-1 9-9 .58-.59Zm2.83.7a1.5 1.5 0 0 0-2.12 0l-.23.24 3.29 3.3.23-.24a1.5 1.5 0 0 0 0-2.12l-1.17-1.17Zm.23 4.24L16.5 8.2l-8.3 8.3 3.3 3.3 8.3-8.3Zm-9 9L7.5 17.2l-.5.5V21h3.3l.5-.5Z"/></svg>'},384806:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M10.5 20.5a2 2 0 1 1-2-2m2 2a2 2 0 0 0-2-2m2 2h14m-16-2v-14m16 16L21 17m3.5 3.5L21 24M8.5 4.5L12 8M8.5 4.5L5 8"/></svg>'},782038:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M7 7h14a1 1 0 1 1 0 2H7a1 1 0 0 1 0-2ZM5 8c0-1.1.9-2 2-2h14a2 2 0 1 1 0 4H7a2 2 0 0 1-2-2Zm13 5H6v1h12v-1Zm0 4H6v1h12v-1ZM6 21h12v1H6v-1Z"/></svg>'},887717:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M12.8441 8.61921C13.232 8.13425 13.9481 8.07567 14.4097 8.49112L18.1651 11.871L18.4996 12.172L18.8341 11.871L22.5896 8.49121C23.0512 8.07582 23.7672 8.13438 24.1551 8.61927C24.5188 9.07382 24.4567 9.73484 24.0147 10.1137L18.4996 14.8409L12.9845 10.1137C12.5425 9.73482 12.4804 9.07379 12.8441 8.61921ZM15.0787 7.74783C14.1896 6.94765 12.8104 7.06048 12.0632 7.99452C11.3628 8.87007 11.4824 10.1432 12.3338 10.8729L18.1742 15.879L18.4996 16.158L18.825 15.879L24.6655 10.8729C25.5168 10.1432 25.6364 8.87006 24.936 7.99454C24.1888 7.06061 22.8097 6.94781 21.9207 7.7479L18.4996 10.8267L15.0787 7.74783ZM15.1551 18.8798C14.7672 19.3647 14.0511 19.4233 13.5895 19.0078L9.83409 15.628L9.49962 15.3269L9.16514 15.6279L5.4096 19.0077C4.94802 19.4231 4.23205 19.3646 3.84411 18.8797C3.48044 18.4251 3.54256 17.7641 3.98455 17.3853L9.49961 12.6581L15.0147 17.3853C15.4567 17.7641 15.5188 18.4252 15.1551 18.8798ZM12.9205 19.7511C13.8096 20.5513 15.1888 20.4385 15.936 19.5044C16.6364 18.6289 16.5168 17.3557 15.6655 16.626L9.82501 11.6199L9.49961 11.341L9.17421 11.6199L3.33376 16.626C2.48244 17.3557 2.3628 18.6289 3.06327 19.5044C3.81047 20.4383 5.1895 20.5512 6.07854 19.7511L9.4996 16.6723L12.9205 19.7511Z"/></svg>'}}]);